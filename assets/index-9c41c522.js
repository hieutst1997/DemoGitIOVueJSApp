import{d as lr,r as pt,o as io,a as so,c as ma,w as ya,t as uo,b as rr,e as nr,f as or,n as co,g as lo,v as fo,h as ka,i as ir,_ as ho,j as po,k as vo,l as mo,m as yo,p as go}from"./index-7076f6eb.js";var Ra=(o,c,i)=>{if(!c.has(o))throw TypeError("Cannot "+i)},Ta=(o,c,i)=>(Ra(o,c,"read from private field"),i?i.call(o):c.get(o)),wo=(o,c,i)=>{if(c.has(o))throw TypeError("Cannot add the same private member more than once");c instanceof WeakSet?c.add(o):c.set(o,i)},bo=(o,c,i,h)=>(Ra(o,c,"write to private field"),h?h.call(o,i):c.set(o,i),i);const Pa=["aztec","code_128","code_39","code_93","codabar","data_matrix","ean_13","ean_8","itf","pdf417","qr_code","upc_a","upc_e","unknown"];function $o(o){if(Fa(o))return{width:o.naturalWidth,height:o.naturalHeight};if(Wa(o))return{width:o.width.baseVal.value,height:o.height.baseVal.value};if(Ia(o))return{width:o.videoWidth,height:o.videoHeight};if(Ha(o))return{width:o.width,height:o.height};if(La(o))return{width:o.displayWidth,height:o.displayHeight};if(Ua(o))return{width:o.width,height:o.height};if(Va(o))return{width:o.width,height:o.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function Fa(o){try{return o instanceof HTMLImageElement}catch{return!1}}function Wa(o){try{return o instanceof SVGImageElement}catch{return!1}}function Ia(o){try{return o instanceof HTMLVideoElement}catch{return!1}}function Ua(o){try{return o instanceof HTMLCanvasElement}catch{return!1}}function Ha(o){try{return o instanceof ImageBitmap}catch{return!1}}function Va(o){try{return o instanceof OffscreenCanvas}catch{return!1}}function La(o){try{return o instanceof VideoFrame}catch{return!1}}function Na(o){try{return o instanceof Blob}catch{return!1}}function Co(o){try{return o instanceof ImageData}catch{return!1}}function _o(o,c){try{const i=new OffscreenCanvas(o,c);if(i.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return i;throw void 0}catch{const h=document.createElement("canvas");return h.width=o,h.height=c,h}}async function Ya(o){if(Fa(o)&&!await Eo(o))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(Wa(o)&&!await Ao(o))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(La(o)&&Oo(o))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(Ia(o)&&(o.readyState===0||o.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(Ha(o)&&jo(o))throw new DOMException("The image source is detached.","InvalidStateError");const{width:c,height:i}=$o(o);if(c===0||i===0)return null;const h=_o(c,i).getContext("2d");h.drawImage(o,0,0);try{return h.getImageData(0,0,c,i)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function To(o){let c;try{if(createImageBitmap)c=await createImageBitmap(o);else if(Image){c=new Image;let i="";try{i=URL.createObjectURL(o),c.src=i,await c.decode()}finally{URL.revokeObjectURL(i)}}else return o}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await Ya(c)}function Po(o){const{width:c,height:i}=o;if(c===0||i===0)return null;const h=o.getContext("2d");try{return h.getImageData(0,0,c,i)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function So(o){if(Na(o))return await To(o);if(Co(o)){if(Do(o))throw new DOMException("The image data has been detached.","InvalidStateError");return o}return Ua(o)||Va(o)?Po(o):await Ya(o)}async function Eo(o){try{return await o.decode(),!0}catch{return!1}}async function Ao(o){var c;try{return await((c=o.decode)==null?void 0:c.call(o)),!0}catch{return!1}}function Oo(o){return o.format===null}function Do(o){return o.data.buffer.byteLength===0}function jo(o){return o.width===0&&o.height===0}function Sa(o,c){return o instanceof DOMException?new DOMException(`${c}: ${o.message}`,o.name):o instanceof Error?new o.constructor(`${c}: ${o.message}`):new Error(`${c}: ${o}`)}const Ea=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","UPC-A","UPC-E"];function Mo(o){return o.join("|")}function xo(o){const c=Aa(o);let i=0,h=Ea.length-1;for(;i<=h;){const m=Math.floor((i+h)/2),w=Ea[m],$=Aa(w);if($===c)return w;$<c?i=m+1:h=m-1}return"None"}function Aa(o){return o.toLowerCase().replace(/_-\[\]/g,"")}function ko(o,c){return o.Binarizer[c]}function Ro(o,c){return o.CharacterSet[c]}const Fo=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function Wo(o){return Fo[o.value]}function Io(o,c){return o.EanAddOnSymbol[c]}function Uo(o,c){return o.TextMode[c]}const ur={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function za(o,c){return{...c,formats:Mo(c.formats),binarizer:ko(o,c.binarizer),eanAddOnSymbol:Io(o,c.eanAddOnSymbol),textMode:Uo(o,c.textMode),characterSet:Ro(o,c.characterSet)}}function Ba(o){return{...o,format:xo(o.format),eccLevel:o.eccLevel,contentType:Wo(o.contentType)}}const Ho={locateFile:(o,c)=>{const i=o.match(/_(.+?)\.wasm$/);return i?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.0.0-rc.3/dist/${i[1]}/${o}`:c+o}};let Oa=new WeakMap;function $a(o,c){var i;const h=Oa.get(o);if(h!=null&&h.modulePromise&&(c===void 0||Object.is(c,h.moduleOverrides)))return h.modulePromise;const m=(i=c??(h==null?void 0:h.moduleOverrides))!=null?i:Ho,w=o({...m});return Oa.set(o,{moduleOverrides:m,modulePromise:w}),w}async function Vo(o,c,i=ur){const h={...ur,...i},m=await $a(o),{size:w}=c,$=new Uint8Array(await c.arrayBuffer()),E=m._malloc(w);m.HEAPU8.set($,E);const y=m.readBarcodesFromImage(E,w,za(m,h));m._free(E);const C=[];for(let A=0;A<y.size();++A)C.push(Ba(y.get(A)));return C}async function Lo(o,c,i=ur){const h={...ur,...i},m=await $a(o),{data:w,width:$,height:E,data:{byteLength:y}}=c,C=m._malloc(y);m.HEAPU8.set(w,C);const A=m.readBarcodesFromPixmap(C,$,E,za(m,h));m._free(C);const P=[];for(let Y=0;Y<A.size();++Y)P.push(Ba(A.get(Y)));return P}var Ca=(()=>{var o=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(c={}){var i=c,h,m;i.ready=new Promise((n,e)=>{h=n,m=e});var w=Object.assign({},i),$="./this.program",E=typeof window=="object",y=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var C="";function A(n){return i.locateFile?i.locateFile(n,C):C+n}var P;(E||y)&&(y?C=self.location.href:typeof document<"u"&&document.currentScript&&(C=document.currentScript.src),o&&(C=o),C.indexOf("blob:")!==0?C=C.substr(0,C.replace(/[?#].*/,"").lastIndexOf("/")+1):C="",y&&(P=n=>{var e=new XMLHttpRequest;return e.open("GET",n,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)})),i.print||console.log.bind(console);var Y=i.printErr||console.error.bind(console);Object.assign(i,w),w=null,i.arguments&&i.arguments,i.thisProgram&&($=i.thisProgram),i.quit&&i.quit;var B;i.wasmBinary&&(B=i.wasmBinary),typeof WebAssembly!="object"&&fe("no native wasm support detected");var z,q=!1;function se(n,e){n||fe(e)}var J,M,G,Z,V,j,Te,Pe;function Ie(){var n=z.buffer;i.HEAP8=J=new Int8Array(n),i.HEAP16=G=new Int16Array(n),i.HEAPU8=M=new Uint8Array(n),i.HEAPU16=Z=new Uint16Array(n),i.HEAP32=V=new Int32Array(n),i.HEAPU32=j=new Uint32Array(n),i.HEAPF32=Te=new Float32Array(n),i.HEAPF64=Pe=new Float64Array(n)}var Ue=[],He=[],Ye=[];function yt(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)ze(i.preRun.shift());qe(Ue)}function gt(){qe(He)}function wt(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)bt(i.postRun.shift());qe(Ye)}function ze(n){Ue.unshift(n)}function ft(n){He.unshift(n)}function bt(n){Ye.unshift(n)}var oe=0,ae=null;function ve(n){oe++,i.monitorRunDependencies&&i.monitorRunDependencies(oe)}function $t(n){if(oe--,i.monitorRunDependencies&&i.monitorRunDependencies(oe),oe==0&&ae){var e=ae;ae=null,e()}}function fe(n){i.onAbort&&i.onAbort(n),n="Aborted("+n+")",Y(n),q=!0,n+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(n);throw m(e),e}var Ct="data:application/octet-stream;base64,",Be=n=>n.startsWith(Ct),ue;ue="zxing_reader.wasm",Be(ue)||(ue=A(ue));function Ge(n){if(n==ue&&B)return new Uint8Array(B);if(P)return P(n);throw"both async and sync fetching of the wasm failed"}function fr(n){return!B&&(E||y)&&typeof fetch=="function"?fetch(n,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw"failed to load wasm binary file at '"+n+"'";return e.arrayBuffer()}).catch(()=>Ge(n)):Promise.resolve().then(()=>Ge(n))}function _t(n,e,t){return fr(n).then(r=>WebAssembly.instantiate(r,e)).then(r=>r).then(t,r=>{Y(`failed to asynchronously prepare wasm: ${r}`),fe(r)})}function hr(n,e,t,r){return!n&&typeof WebAssembly.instantiateStreaming=="function"&&!Be(e)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(a=>{var s=WebAssembly.instantiateStreaming(a,t);return s.then(r,function(u){return Y(`wasm streaming compile failed: ${u}`),Y("falling back to ArrayBuffer instantiation"),_t(e,t,r)})}):_t(e,t,r)}function pr(){var n={a:Jn};function e(r,a){return k=r.exports,z=k.fa,Ie(),Rt=k.ja,ft(k.ga),$t(),k}ve();function t(r){e(r.instance)}if(i.instantiateWasm)try{return i.instantiateWasm(n,e)}catch(r){Y(`Module.instantiateWasm callback failed with error: ${r}`),m(r)}return hr(B,ue,n,t).catch(m),{}}var qe=n=>{for(;n.length>0;)n.shift()(i)};i.noExitRuntime;var Se=[],Ee=0,vr=n=>{var e=new Je(n);return e.get_caught()||(e.set_caught(!0),Ee--),e.set_rethrown(!1),Se.push(e),Zt(e.excPtr),e.get_exception_ptr()},re=0,mr=()=>{x(0,0);var n=Se.pop();Qt(n.excPtr),re=0};function Je(n){this.excPtr=n,this.ptr=n-24,this.set_type=function(e){j[this.ptr+4>>2]=e},this.get_type=function(){return j[this.ptr+4>>2]},this.set_destructor=function(e){j[this.ptr+8>>2]=e},this.get_destructor=function(){return j[this.ptr+8>>2]},this.set_caught=function(e){e=e?1:0,J[this.ptr+12>>0]=e},this.get_caught=function(){return J[this.ptr+12>>0]!=0},this.set_rethrown=function(e){e=e?1:0,J[this.ptr+13>>0]=e},this.get_rethrown=function(){return J[this.ptr+13>>0]!=0},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)},this.set_adjusted_ptr=function(e){j[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return j[this.ptr+16>>2]},this.get_exception_ptr=function(){var e=Kt(this.get_type());if(e)return j[this.excPtr>>2];var t=this.get_adjusted_ptr();return t!==0?t:this.excPtr}}var yr=n=>{throw re||(re=n),re},Qe=n=>{var e=re;if(!e)return Ce(0),0;var t=new Je(e);t.set_adjusted_ptr(e);var r=t.get_type();if(!r)return Ce(0),e;for(var a in n){var s=n[a];if(s===0||s===r)break;var u=t.ptr+16;if(Xt(s,r,u))return Ce(s),e}return Ce(r),e},gr=()=>Qe([]),wr=n=>Qe([n]),br=(n,e)=>Qe([n,e]),$r=()=>{var n=Se.pop();n||fe("no exception to throw");var e=n.excPtr;throw n.get_rethrown()||(Se.push(n),n.set_rethrown(!0),n.set_caught(!1),Ee++),re=e,re},Cr=(n,e,t)=>{var r=new Je(n);throw r.init(e,t),re=n,Ee++,re},_r=()=>Ee,Ae={},Tt=n=>{for(;n.length;){var e=n.pop(),t=n.pop();t(e)}};function Ze(n){return this.fromWireType(V[n>>2])}var he={},ce={},Oe={},Pt,De=n=>{throw new Pt(n)},le=(n,e,t)=>{n.forEach(function(l){Oe[l]=e});function r(l){var d=t(l);d.length!==n.length&&De("Mismatched type converter count");for(var f=0;f<n.length;++f)ee(n[f],d[f])}var a=new Array(e.length),s=[],u=0;e.forEach((l,d)=>{ce.hasOwnProperty(l)?a[d]=ce[l]:(s.push(l),he.hasOwnProperty(l)||(he[l]=[]),he[l].push(()=>{a[d]=ce[l],++u,u===s.length&&r(a)}))}),s.length===0&&r(a)},Tr=n=>{var e=Ae[n];delete Ae[n];var t=e.rawConstructor,r=e.rawDestructor,a=e.fields,s=a.map(u=>u.getterReturnType).concat(a.map(u=>u.setterArgumentType));le([n],s,u=>{var l={};return a.forEach((d,f)=>{var v=d.fieldName,b=u[f],_=d.getter,S=d.getterContext,D=u[f+a.length],I=d.setter,U=d.setterContext;l[v]={read:H=>b.fromWireType(_(S,H)),write:(H,g)=>{var p=[];I(U,H,D.toWireType(p,g)),Tt(p)}}}),[{name:e.name,fromWireType:d=>{var f={};for(var v in l)f[v]=l[v].read(d);return r(d),f},toWireType:(d,f)=>{for(var v in l)if(!(v in f))throw new TypeError(`Missing field: "${v}"`);var b=t();for(v in l)l[v].write(b,f[v]);return d!==null&&d.push(r,b),b},argPackAdvance:te,readValueFromPointer:Ze,destructorFunction:r}]})},Pr=(n,e,t,r,a)=>{},Sr=()=>{for(var n=new Array(256),e=0;e<256;++e)n[e]=String.fromCharCode(e);St=n},St,N=n=>{for(var e="",t=n;M[t];)e+=St[M[t++]];return e},pe,O=n=>{throw new pe(n)};function Er(n,e,t={}){var r=e.name;if(n||O(`type "${r}" must have a positive integer typeid pointer`),ce.hasOwnProperty(n)){if(t.ignoreDuplicateRegistrations)return;O(`Cannot register type '${r}' twice`)}if(ce[n]=e,delete Oe[n],he.hasOwnProperty(n)){var a=he[n];delete he[n],a.forEach(s=>s())}}function ee(n,e,t={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Er(n,e,t)}var te=8,Ar=(n,e,t,r)=>{e=N(e),ee(n,{name:e,fromWireType:function(a){return!!a},toWireType:function(a,s){return s?t:r},argPackAdvance:te,readValueFromPointer:function(a){return this.fromWireType(M[a])},destructorFunction:null})},Or=n=>({count:n.count,deleteScheduled:n.deleteScheduled,preservePointerOnDelete:n.preservePointerOnDelete,ptr:n.ptr,ptrType:n.ptrType,smartPtr:n.smartPtr,smartPtrType:n.smartPtrType}),Xe=n=>{function e(t){return t.$$.ptrType.registeredClass.name}O(e(n)+" instance already deleted")},Ke=!1,Et=n=>{},Dr=n=>{n.smartPtr?n.smartPtrType.rawDestructor(n.smartPtr):n.ptrType.registeredClass.rawDestructor(n.ptr)},At=n=>{n.count.value-=1;var e=n.count.value===0;e&&Dr(n)},Ot=(n,e,t)=>{if(e===t)return n;if(t.baseClass===void 0)return null;var r=Ot(n,e,t.baseClass);return r===null?null:t.downcast(r)},Dt={},jr=()=>Object.keys(we).length,Mr=()=>{var n=[];for(var e in we)we.hasOwnProperty(e)&&n.push(we[e]);return n},ye=[],et=()=>{for(;ye.length;){var n=ye.pop();n.$$.deleteScheduled=!1,n.delete()}},ge,xr=n=>{ge=n,ye.length&&ge&&ge(et)},kr=()=>{i.getInheritedInstanceCount=jr,i.getLiveInheritedInstances=Mr,i.flushPendingDeletes=et,i.setDelayFunction=xr},we={},Rr=(n,e)=>{for(e===void 0&&O("ptr should not be undefined");n.baseClass;)e=n.upcast(e),n=n.baseClass;return e},Fr=(n,e)=>(e=Rr(n,e),we[e]),je=(n,e)=>{(!e.ptrType||!e.ptr)&&De("makeClassHandle requires ptr and ptrType");var t=!!e.smartPtrType,r=!!e.smartPtr;return t!==r&&De("Both smartPtrType and smartPtr must be specified"),e.count={value:1},be(Object.create(n,{$$:{value:e}}))};function Wr(n){var e=this.getPointee(n);if(!e)return this.destructor(n),null;var t=Fr(this.registeredClass,e);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=e,t.$$.smartPtr=n,t.clone();var r=t.clone();return this.destructor(n),r}function a(){return this.isSmartPointer?je(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:n}):je(this.registeredClass.instancePrototype,{ptrType:this,ptr:n})}var s=this.registeredClass.getActualType(e),u=Dt[s];if(!u)return a.call(this);var l;this.isConst?l=u.constPointerType:l=u.pointerType;var d=Ot(e,this.registeredClass,l.registeredClass);return d===null?a.call(this):this.isSmartPointer?je(l.registeredClass.instancePrototype,{ptrType:l,ptr:d,smartPtrType:this,smartPtr:n}):je(l.registeredClass.instancePrototype,{ptrType:l,ptr:d})}var be=n=>typeof FinalizationRegistry>"u"?(be=e=>e,n):(Ke=new FinalizationRegistry(e=>{At(e.$$)}),be=e=>{var t=e.$$,r=!!t.smartPtr;if(r){var a={$$:t};Ke.register(e,a,e)}return e},Et=e=>Ke.unregister(e),be(n)),Ir=()=>{Object.assign(Me.prototype,{isAliasOf(n){if(!(this instanceof Me)||!(n instanceof Me))return!1;var e=this.$$.ptrType.registeredClass,t=this.$$.ptr;n.$$=n.$$;for(var r=n.$$.ptrType.registeredClass,a=n.$$.ptr;e.baseClass;)t=e.upcast(t),e=e.baseClass;for(;r.baseClass;)a=r.upcast(a),r=r.baseClass;return e===r&&t===a},clone(){if(this.$$.ptr||Xe(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var n=be(Object.create(Object.getPrototypeOf(this),{$$:{value:Or(this.$$)}}));return n.$$.count.value+=1,n.$$.deleteScheduled=!1,n},delete(){this.$$.ptr||Xe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&O("Object already scheduled for deletion"),Et(this),At(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Xe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&O("Object already scheduled for deletion"),ye.push(this),ye.length===1&&ge&&ge(et),this.$$.deleteScheduled=!0,this}})};function Me(){}var Ur=48,Hr=57,jt=n=>{if(n===void 0)return"_unknown";n=n.replace(/[^a-zA-Z0-9_]/g,"$");var e=n.charCodeAt(0);return e>=Ur&&e<=Hr?`_${n}`:n};function tt(n,e){return n=jt(n),{[n]:function(){return e.apply(this,arguments)}}[n]}var Mt=(n,e,t)=>{if(n[e].overloadTable===void 0){var r=n[e];n[e]=function(){return n[e].overloadTable.hasOwnProperty(arguments.length)||O(`Function '${t}' called with an invalid number of arguments (${arguments.length}) - expects one of (${n[e].overloadTable})!`),n[e].overloadTable[arguments.length].apply(this,arguments)},n[e].overloadTable=[],n[e].overloadTable[r.argCount]=r}},rt=(n,e,t)=>{i.hasOwnProperty(n)?((t===void 0||i[n].overloadTable!==void 0&&i[n].overloadTable[t]!==void 0)&&O(`Cannot register public name '${n}' twice`),Mt(i,n,n),i.hasOwnProperty(t)&&O(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),i[n].overloadTable[t]=e):(i[n]=e,t!==void 0&&(i[n].numArguments=t))};function Vr(n,e,t,r,a,s,u,l){this.name=n,this.constructor=e,this.instancePrototype=t,this.rawDestructor=r,this.baseClass=a,this.getActualType=s,this.upcast=u,this.downcast=l,this.pureVirtualFunctions=[]}var nt=(n,e,t)=>{for(;e!==t;)e.upcast||O(`Expected null or instance of ${t.name}, got an instance of ${e.name}`),n=e.upcast(n),e=e.baseClass;return n};function Lr(n,e){if(e===null)return this.isReference&&O(`null is not a valid ${this.name}`),0;e.$$||O(`Cannot pass "${st(e)}" as a ${this.name}`),e.$$.ptr||O(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=e.$$.ptrType.registeredClass,r=nt(e.$$.ptr,t,this.registeredClass);return r}function Nr(n,e){var t;if(e===null)return this.isReference&&O(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),n!==null&&n.push(this.rawDestructor,t),t):0;e.$$||O(`Cannot pass "${st(e)}" as a ${this.name}`),e.$$.ptr||O(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&e.$$.ptrType.isConst&&O(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);var r=e.$$.ptrType.registeredClass;if(t=nt(e.$$.ptr,r,this.registeredClass),this.isSmartPointer)switch(e.$$.smartPtr===void 0&&O("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?t=e.$$.smartPtr:O(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)t=e.$$.smartPtr;else{var a=e.clone();t=this.rawShare(t,ie.toHandle(()=>a.delete())),n!==null&&n.push(this.rawDestructor,t)}break;default:O("Unsupporting sharing policy")}return t}function Yr(n,e){if(e===null)return this.isReference&&O(`null is not a valid ${this.name}`),0;e.$$||O(`Cannot pass "${st(e)}" as a ${this.name}`),e.$$.ptr||O(`Cannot pass deleted object as a pointer of type ${this.name}`),e.$$.ptrType.isConst&&O(`Cannot convert argument of type ${e.$$.ptrType.name} to parameter type ${this.name}`);var t=e.$$.ptrType.registeredClass,r=nt(e.$$.ptr,t,this.registeredClass);return r}function xt(n){return this.fromWireType(j[n>>2])}var zr=()=>{Object.assign(xe.prototype,{getPointee(n){return this.rawGetPointee&&(n=this.rawGetPointee(n)),n},destructor(n){this.rawDestructor&&this.rawDestructor(n)},argPackAdvance:te,readValueFromPointer:xt,deleteObject(n){n!==null&&n.delete()},fromWireType:Wr})};function xe(n,e,t,r,a,s,u,l,d,f,v){this.name=n,this.registeredClass=e,this.isReference=t,this.isConst=r,this.isSmartPointer=a,this.pointeeType=s,this.sharingPolicy=u,this.rawGetPointee=l,this.rawConstructor=d,this.rawShare=f,this.rawDestructor=v,!a&&e.baseClass===void 0?r?(this.toWireType=Lr,this.destructorFunction=null):(this.toWireType=Yr,this.destructorFunction=null):this.toWireType=Nr}var kt=(n,e,t)=>{i.hasOwnProperty(n)||De("Replacing nonexistant public symbol"),i[n].overloadTable!==void 0&&t!==void 0?i[n].overloadTable[t]=e:(i[n]=e,i[n].argCount=t)},Br=(n,e,t)=>{var r=i["dynCall_"+n];return t&&t.length?r.apply(null,[e].concat(t)):r.call(null,e)},ke=[],Rt,R=n=>{var e=ke[n];return e||(n>=ke.length&&(ke.length=n+1),ke[n]=e=Rt.get(n)),e},Gr=(n,e,t)=>{if(n.includes("j"))return Br(n,e,t);var r=R(e).apply(null,t);return r},qr=(n,e)=>{var t=[];return function(){return t.length=0,Object.assign(t,arguments),Gr(n,e,t)}},K=(n,e)=>{n=N(n);function t(){return n.includes("j")?qr(n,e):R(e)}var r=t();return typeof r!="function"&&O(`unknown function pointer with signature ${n}: ${e}`),r},Jr=(n,e)=>{var t=tt(e,function(r){this.name=e,this.message=r;var a=new Error(r).stack;a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},t},Ft,Wt=n=>{var e=Jt(n),t=N(e);return ne(e),t},Re=(n,e)=>{var t=[],r={};function a(s){if(!r[s]&&!ce[s]){if(Oe[s]){Oe[s].forEach(a);return}t.push(s),r[s]=!0}}throw e.forEach(a),new Ft(`${n}: `+t.map(Wt).join([", "]))},Qr=(n,e,t,r,a,s,u,l,d,f,v,b,_)=>{v=N(v),s=K(a,s),l&&(l=K(u,l)),f&&(f=K(d,f)),_=K(b,_);var S=jt(v);rt(S,function(){Re(`Cannot construct ${v} due to unbound types`,[r])}),le([n,e,t],r?[r]:[],function(D){D=D[0];var I,U;r?(I=D.registeredClass,U=I.instancePrototype):U=Me.prototype;var H=tt(S,function(){if(Object.getPrototypeOf(this)!==g)throw new pe("Use 'new' to construct "+v);if(p.constructor_body===void 0)throw new pe(v+" has no accessible constructor");var me=p.constructor_body[arguments.length];if(me===void 0)throw new pe(`Tried to invoke ctor of ${v} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(p.constructor_body).toString()}) parameters instead!`);return me.apply(this,arguments)}),g=Object.create(U,{constructor:{value:H}});H.prototype=g;var p=new Vr(v,H,g,_,I,s,l,f);p.baseClass&&(p.baseClass.__derivedClasses===void 0&&(p.baseClass.__derivedClasses=[]),p.baseClass.__derivedClasses.push(p));var T=new xe(v,p,!0,!1,!1),L=new xe(v+"*",p,!1,!1,!1),Q=new xe(v+" const*",p,!1,!0,!1);return Dt[n]={pointerType:L,constPointerType:Q},kt(S,H),[T,L,Q]})},at=(n,e)=>{for(var t=[],r=0;r<n;r++)t.push(j[e+r*4>>2]);return t};function ot(n,e,t,r,a,s){var u=e.length;u<2&&O("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var l=e[1]!==null&&t!==null,d=!1,f=1;f<e.length;++f)if(e[f]!==null&&e[f].destructorFunction===void 0){d=!0;break}var v=e[0].name!=="void",b=u-2,_=new Array(b),S=[],D=[];return function(){arguments.length!==b&&O(`function ${n} called with ${arguments.length} arguments, expected ${b}`),D.length=0;var I;S.length=l?2:1,S[0]=a,l&&(I=e[1].toWireType(D,this),S[1]=I);for(var U=0;U<b;++U)_[U]=e[U+2].toWireType(D,arguments[U]),S.push(_[U]);var H=r.apply(null,S);function g(p){if(d)Tt(D);else for(var T=l?1:2;T<e.length;T++){var L=T===1?I:_[T-2];e[T].destructorFunction!==null&&e[T].destructorFunction(L)}if(v)return e[0].fromWireType(p)}return g(H)}}var Zr=(n,e,t,r,a,s)=>{var u=at(e,t);a=K(r,a),le([],[n],function(l){l=l[0];var d=`constructor ${l.name}`;if(l.registeredClass.constructor_body===void 0&&(l.registeredClass.constructor_body=[]),l.registeredClass.constructor_body[e-1]!==void 0)throw new pe(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${l.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return l.registeredClass.constructor_body[e-1]=()=>{Re(`Cannot construct ${l.name} due to unbound types`,u)},le([],u,f=>(f.splice(1,0,null),l.registeredClass.constructor_body[e-1]=ot(d,f,null,a,s),[])),[]})},It=n=>{n=n.trim();const e=n.indexOf("(");return e!==-1?(se(n[n.length-1]==")","Parentheses for argument names should match."),n.substr(0,e)):n},Xr=(n,e,t,r,a,s,u,l,d)=>{var f=at(t,r);e=N(e),e=It(e),s=K(a,s),le([],[n],function(v){v=v[0];var b=`${v.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),l&&v.registeredClass.pureVirtualFunctions.push(e);function _(){Re(`Cannot call ${b} due to unbound types`,f)}var S=v.registeredClass.instancePrototype,D=S[e];return D===void 0||D.overloadTable===void 0&&D.className!==v.name&&D.argCount===t-2?(_.argCount=t-2,_.className=v.name,S[e]=_):(Mt(S,e,b),S[e].overloadTable[t-2]=_),le([],f,function(I){var U=ot(b,I,v,s,u);return S[e].overloadTable===void 0?(U.argCount=t-2,S[e]=U):S[e].overloadTable[t-2]=U,[]}),[]})};function Kr(){Object.assign(Ut.prototype,{get(n){return this.allocated[n]},has(n){return this.allocated[n]!==void 0},allocate(n){var e=this.freelist.pop()||this.allocated.length;return this.allocated[e]=n,e},free(n){this.allocated[n]=void 0,this.freelist.push(n)}})}function Ut(){this.allocated=[void 0],this.freelist=[]}var X=new Ut,Ht=n=>{n>=X.reserved&&--X.get(n).refcount===0&&X.free(n)},en=()=>{for(var n=0,e=X.reserved;e<X.allocated.length;++e)X.allocated[e]!==void 0&&++n;return n},tn=()=>{X.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),X.reserved=X.allocated.length,i.count_emval_handles=en},ie={toValue:n=>(n||O("Cannot use deleted val. handle = "+n),X.get(n).value),toHandle:n=>{switch(n){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return X.allocate({refcount:1,value:n})}}},rn=(n,e)=>{e=N(e),ee(n,{name:e,fromWireType:t=>{var r=ie.toValue(t);return Ht(t),r},toWireType:(t,r)=>ie.toHandle(r),argPackAdvance:te,readValueFromPointer:Ze,destructorFunction:null})},nn=(n,e,t)=>{switch(e){case 1:return t?function(r){return this.fromWireType(J[r>>0])}:function(r){return this.fromWireType(M[r>>0])};case 2:return t?function(r){return this.fromWireType(G[r>>1])}:function(r){return this.fromWireType(Z[r>>1])};case 4:return t?function(r){return this.fromWireType(V[r>>2])}:function(r){return this.fromWireType(j[r>>2])};default:throw new TypeError(`invalid integer width (${e}): ${n}`)}},an=(n,e,t,r)=>{e=N(e);function a(){}a.values={},ee(n,{name:e,constructor:a,fromWireType:function(s){return this.constructor.values[s]},toWireType:(s,u)=>u.value,argPackAdvance:te,readValueFromPointer:nn(e,t,r),destructorFunction:null}),rt(e,a)},it=(n,e)=>{var t=ce[n];return t===void 0&&O(e+" has unknown type "+Wt(n)),t},on=(n,e,t)=>{var r=it(n,"enum");e=N(e);var a=r.constructor,s=Object.create(r.constructor.prototype,{value:{value:t},constructor:{value:tt(`${r.name}_${e}`,function(){})}});a.values[t]=s,a[e]=s},st=n=>{if(n===null)return"null";var e=typeof n;return e==="object"||e==="array"||e==="function"?n.toString():""+n},sn=(n,e)=>{switch(e){case 4:return function(t){return this.fromWireType(Te[t>>2])};case 8:return function(t){return this.fromWireType(Pe[t>>3])};default:throw new TypeError(`invalid float width (${e}): ${n}`)}},un=(n,e,t)=>{e=N(e),ee(n,{name:e,fromWireType:r=>r,toWireType:(r,a)=>a,argPackAdvance:te,readValueFromPointer:sn(e,t),destructorFunction:null})},cn=(n,e,t,r,a,s,u)=>{var l=at(e,t);n=N(n),n=It(n),a=K(r,a),rt(n,function(){Re(`Cannot call ${n} due to unbound types`,l)},e-1),le([],l,function(d){var f=[d[0],null].concat(d.slice(1));return kt(n,ot(n,f,null,a,s),e-1),[]})},ln=(n,e,t)=>{switch(e){case 1:return t?r=>J[r>>0]:r=>M[r>>0];case 2:return t?r=>G[r>>1]:r=>Z[r>>1];case 4:return t?r=>V[r>>2]:r=>j[r>>2];default:throw new TypeError(`invalid integer width (${e}): ${n}`)}},dn=(n,e,t,r,a)=>{e=N(e);var s=v=>v;if(r===0){var u=32-8*t;s=v=>v<<u>>>u}var l=e.includes("unsigned"),d=(v,b)=>{},f;l?f=function(v,b){return d(b,this.name),b>>>0}:f=function(v,b){return d(b,this.name),b},ee(n,{name:e,fromWireType:s,toWireType:f,argPackAdvance:te,readValueFromPointer:ln(e,t,r!==0),destructorFunction:null})},fn=(n,e,t)=>{var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=r[e];function s(u){var l=j[u>>2],d=j[u+4>>2];return new a(J.buffer,d,l)}t=N(t),ee(n,{name:t,fromWireType:s,argPackAdvance:te,readValueFromPointer:s},{ignoreDuplicateRegistrations:!0})},Vt=(n,e,t,r)=>{if(!(r>0))return 0;for(var a=t,s=t+r-1,u=0;u<n.length;++u){var l=n.charCodeAt(u);if(l>=55296&&l<=57343){var d=n.charCodeAt(++u);l=65536+((l&1023)<<10)|d&1023}if(l<=127){if(t>=s)break;e[t++]=l}else if(l<=2047){if(t+1>=s)break;e[t++]=192|l>>6,e[t++]=128|l&63}else if(l<=65535){if(t+2>=s)break;e[t++]=224|l>>12,e[t++]=128|l>>6&63,e[t++]=128|l&63}else{if(t+3>=s)break;e[t++]=240|l>>18,e[t++]=128|l>>12&63,e[t++]=128|l>>6&63,e[t++]=128|l&63}}return e[t]=0,t-a},hn=(n,e,t)=>Vt(n,M,e,t),Lt=n=>{for(var e=0,t=0;t<n.length;++t){var r=n.charCodeAt(t);r<=127?e++:r<=2047?e+=2:r>=55296&&r<=57343?(e+=4,++t):e+=3}return e},Nt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,pn=(n,e,t)=>{for(var r=e+t,a=e;n[a]&&!(a>=r);)++a;if(a-e>16&&n.buffer&&Nt)return Nt.decode(n.subarray(e,a));for(var s="";e<a;){var u=n[e++];if(!(u&128)){s+=String.fromCharCode(u);continue}var l=n[e++]&63;if((u&224)==192){s+=String.fromCharCode((u&31)<<6|l);continue}var d=n[e++]&63;if((u&240)==224?u=(u&15)<<12|l<<6|d:u=(u&7)<<18|l<<12|d<<6|n[e++]&63,u<65536)s+=String.fromCharCode(u);else{var f=u-65536;s+=String.fromCharCode(55296|f>>10,56320|f&1023)}}return s},ut=(n,e)=>n?pn(M,n,e):"",vn=(n,e)=>{e=N(e);var t=e==="std::string";ee(n,{name:e,fromWireType(r){var a=j[r>>2],s=r+4,u;if(t)for(var l=s,d=0;d<=a;++d){var f=s+d;if(d==a||M[f]==0){var v=f-l,b=ut(l,v);u===void 0?u=b:(u+=String.fromCharCode(0),u+=b),l=f+1}}else{for(var _=new Array(a),d=0;d<a;++d)_[d]=String.fromCharCode(M[s+d]);u=_.join("")}return ne(r),u},toWireType(r,a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));var s,u=typeof a=="string";u||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int8Array||O("Cannot pass non-string to std::string"),t&&u?s=Lt(a):s=a.length;var l=lt(4+s+1),d=l+4;if(j[l>>2]=s,t&&u)hn(a,d,s+1);else if(u)for(var f=0;f<s;++f){var v=a.charCodeAt(f);v>255&&(ne(d),O("String has UTF-16 code units that do not fit in 8 bits")),M[d+f]=v}else for(var f=0;f<s;++f)M[d+f]=a[f];return r!==null&&r.push(ne,l),l},argPackAdvance:te,readValueFromPointer:xt,destructorFunction(r){ne(r)}})},Yt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,mn=(n,e)=>{for(var t=n,r=t>>1,a=r+e/2;!(r>=a)&&Z[r];)++r;if(t=r<<1,t-n>32&&Yt)return Yt.decode(M.subarray(n,t));for(var s="",u=0;!(u>=e/2);++u){var l=G[n+u*2>>1];if(l==0)break;s+=String.fromCharCode(l)}return s},yn=(n,e,t)=>{if(t===void 0&&(t=2147483647),t<2)return 0;t-=2;for(var r=e,a=t<n.length*2?t/2:n.length,s=0;s<a;++s){var u=n.charCodeAt(s);G[e>>1]=u,e+=2}return G[e>>1]=0,e-r},gn=n=>n.length*2,wn=(n,e)=>{for(var t=0,r="";!(t>=e/4);){var a=V[n+t*4>>2];if(a==0)break;if(++t,a>=65536){var s=a-65536;r+=String.fromCharCode(55296|s>>10,56320|s&1023)}else r+=String.fromCharCode(a)}return r},bn=(n,e,t)=>{if(t===void 0&&(t=2147483647),t<4)return 0;for(var r=e,a=r+t-4,s=0;s<n.length;++s){var u=n.charCodeAt(s);if(u>=55296&&u<=57343){var l=n.charCodeAt(++s);u=65536+((u&1023)<<10)|l&1023}if(V[e>>2]=u,e+=4,e+4>a)break}return V[e>>2]=0,e-r},$n=n=>{for(var e=0,t=0;t<n.length;++t){var r=n.charCodeAt(t);r>=55296&&r<=57343&&++t,e+=4}return e},Cn=(n,e,t)=>{t=N(t);var r,a,s,u,l;e===2?(r=mn,a=yn,u=gn,s=()=>Z,l=1):e===4&&(r=wn,a=bn,u=$n,s=()=>j,l=2),ee(n,{name:t,fromWireType:d=>{for(var f=j[d>>2],v=s(),b,_=d+4,S=0;S<=f;++S){var D=d+4+S*e;if(S==f||v[D>>l]==0){var I=D-_,U=r(_,I);b===void 0?b=U:(b+=String.fromCharCode(0),b+=U),_=D+e}}return ne(d),b},toWireType:(d,f)=>{typeof f!="string"&&O(`Cannot pass non-string to C++ string type ${t}`);var v=u(f),b=lt(4+v+e);return j[b>>2]=v>>l,a(f,b+4,v+e),d!==null&&d.push(ne,b),b},argPackAdvance:te,readValueFromPointer:Ze,destructorFunction(d){ne(d)}})},_n=(n,e,t,r,a,s)=>{Ae[n]={name:N(e),rawConstructor:K(t,r),rawDestructor:K(a,s),fields:[]}},Tn=(n,e,t,r,a,s,u,l,d,f)=>{Ae[n].fields.push({fieldName:N(e),getterReturnType:t,getter:K(r,a),getterContext:s,setterArgumentType:u,setter:K(l,d),setterContext:f})},Pn=(n,e)=>{e=N(e),ee(n,{isVoid:!0,name:e,argPackAdvance:0,fromWireType:()=>{},toWireType:(t,r)=>{}})},Sn={},En=n=>{var e=Sn[n];return e===void 0?N(n):e},zt=()=>{if(typeof globalThis=="object")return globalThis;function n(e){e.$$$embind_global$$$=e;var t=typeof $$$embind_global$$$=="object"&&e.$$$embind_global$$$==e;return t||delete e.$$$embind_global$$$,t}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&n(global)?$$$embind_global$$$=global:typeof self=="object"&&n(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},An=n=>n===0?ie.toHandle(zt()):(n=En(n),ie.toHandle(zt()[n])),On=n=>{n>4&&(X.get(n).refcount+=1)},Dn=n=>{var e=new Array(n+1);return function(t,r,a){e[0]=t;for(var s=0;s<n;++s){var u=it(j[r+s*4>>2],"parameter "+s);e[s+1]=u.readValueFromPointer(a),a+=u.argPackAdvance}var l=new(t.bind.apply(t,e));return ie.toHandle(l)}},Bt={},jn=(n,e,t,r)=>{n=ie.toValue(n);var a=Bt[e];return a||(a=Dn(e),Bt[e]=a),a(n,t,r)},Mn=(n,e)=>{n=it(n,"_emval_take_value");var t=n.readValueFromPointer(e);return ie.toHandle(t)},xn=()=>{fe("")},kn=(n,e,t)=>M.copyWithin(n,e,e+t),Rn=()=>2147483648,Fn=n=>{var e=z.buffer,t=(n-e.byteLength+65535)/65536;try{return z.grow(t),Ie(),1}catch{}},Wn=n=>{var e=M.length;n>>>=0;var t=Rn();if(n>t)return!1;for(var r=(d,f)=>d+(f-d%f)%f,a=1;a<=4;a*=2){var s=e*(1+.2/a);s=Math.min(s,n+100663296);var u=Math.min(t,r(Math.max(n,s),65536)),l=Fn(u);if(l)return!0}return!1},ct={},In=()=>$||"./this.program",$e=()=>{if(!$e.strings){var n=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:n,_:In()};for(var t in ct)ct[t]===void 0?delete e[t]:e[t]=ct[t];var r=[];for(var t in e)r.push(`${t}=${e[t]}`);$e.strings=r}return $e.strings},Un=(n,e)=>{for(var t=0;t<n.length;++t)J[e++>>0]=n.charCodeAt(t);J[e>>0]=0},Hn=(n,e)=>{var t=0;return $e().forEach((r,a)=>{var s=e+t;j[n+a*4>>2]=s,Un(r,s),t+=r.length+1}),0},Vn=(n,e)=>{var t=$e();j[n>>2]=t.length;var r=0;return t.forEach(a=>r+=a.length+1),j[e>>2]=r,0},Ln=n=>n,Fe=n=>n%4===0&&(n%100!==0||n%400===0),Nn=(n,e)=>{for(var t=0,r=0;r<=e;t+=n[r++]);return t},Gt=[31,29,31,30,31,30,31,31,30,31,30,31],qt=[31,28,31,30,31,30,31,31,30,31,30,31],Yn=(n,e)=>{for(var t=new Date(n.getTime());e>0;){var r=Fe(t.getFullYear()),a=t.getMonth(),s=(r?Gt:qt)[a];if(e>s-t.getDate())e-=s-t.getDate()+1,t.setDate(1),a<11?t.setMonth(a+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else return t.setDate(t.getDate()+e),t}return t};function zn(n,e,t){var r=t>0?t:Lt(n)+1,a=new Array(r),s=Vt(n,a,0,a.length);return e&&(a.length=s),a}var Bn=(n,e)=>{J.set(n,e)},Gn=(n,e,t,r)=>{var a=j[r+40>>2],s={tm_sec:V[r>>2],tm_min:V[r+4>>2],tm_hour:V[r+8>>2],tm_mday:V[r+12>>2],tm_mon:V[r+16>>2],tm_year:V[r+20>>2],tm_wday:V[r+24>>2],tm_yday:V[r+28>>2],tm_isdst:V[r+32>>2],tm_gmtoff:V[r+36>>2],tm_zone:a?ut(a):""},u=ut(t),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var d in l)u=u.replace(new RegExp(d,"g"),l[d]);var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],v=["January","February","March","April","May","June","July","August","September","October","November","December"];function b(g,p,T){for(var L=typeof g=="number"?g.toString():g||"";L.length<p;)L=T[0]+L;return L}function _(g,p){return b(g,p,"0")}function S(g,p){function T(Q){return Q<0?-1:Q>0?1:0}var L;return(L=T(g.getFullYear()-p.getFullYear()))===0&&(L=T(g.getMonth()-p.getMonth()))===0&&(L=T(g.getDate()-p.getDate())),L}function D(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function I(g){var p=Yn(new Date(g.tm_year+1900,0,1),g.tm_yday),T=new Date(p.getFullYear(),0,4),L=new Date(p.getFullYear()+1,0,4),Q=D(T),me=D(L);return S(Q,p)<=0?S(me,p)<=0?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}var U={"%a":g=>f[g.tm_wday].substring(0,3),"%A":g=>f[g.tm_wday],"%b":g=>v[g.tm_mon].substring(0,3),"%B":g=>v[g.tm_mon],"%C":g=>{var p=g.tm_year+1900;return _(p/100|0,2)},"%d":g=>_(g.tm_mday,2),"%e":g=>b(g.tm_mday,2," "),"%g":g=>I(g).toString().substring(2),"%G":g=>I(g),"%H":g=>_(g.tm_hour,2),"%I":g=>{var p=g.tm_hour;return p==0?p=12:p>12&&(p-=12),_(p,2)},"%j":g=>_(g.tm_mday+Nn(Fe(g.tm_year+1900)?Gt:qt,g.tm_mon-1),3),"%m":g=>_(g.tm_mon+1,2),"%M":g=>_(g.tm_min,2),"%n":()=>`
`,"%p":g=>g.tm_hour>=0&&g.tm_hour<12?"AM":"PM","%S":g=>_(g.tm_sec,2),"%t":()=>"	","%u":g=>g.tm_wday||7,"%U":g=>{var p=g.tm_yday+7-g.tm_wday;return _(Math.floor(p/7),2)},"%V":g=>{var p=Math.floor((g.tm_yday+7-(g.tm_wday+6)%7)/7);if((g.tm_wday+371-g.tm_yday-2)%7<=2&&p++,p){if(p==53){var T=(g.tm_wday+371-g.tm_yday)%7;T!=4&&(T!=3||!Fe(g.tm_year))&&(p=1)}}else{p=52;var L=(g.tm_wday+7-g.tm_yday-1)%7;(L==4||L==5&&Fe(g.tm_year%400-1))&&p++}return _(p,2)},"%w":g=>g.tm_wday,"%W":g=>{var p=g.tm_yday+7-(g.tm_wday+6)%7;return _(Math.floor(p/7),2)},"%y":g=>(g.tm_year+1900).toString().substring(2),"%Y":g=>g.tm_year+1900,"%z":g=>{var p=g.tm_gmtoff,T=p>=0;return p=Math.abs(p)/60,p=p/60*100+p%60,(T?"+":"-")+("0000"+p).slice(-4)},"%Z":g=>g.tm_zone,"%%":()=>"%"};u=u.replace(/%%/g,"\0\0");for(var d in U)u.includes(d)&&(u=u.replace(new RegExp(d,"g"),U[d](s)));u=u.replace(/\0\0/g,"%");var H=zn(u,!1);return H.length>e?0:(Bn(H,n),H.length-1)},qn=(n,e,t,r,a)=>Gn(n,e,t,r);Pt=i.InternalError=class extends Error{constructor(n){super(n),this.name="InternalError"}},Sr(),pe=i.BindingError=class extends Error{constructor(n){super(n),this.name="BindingError"}},Ir(),kr(),zr(),Ft=i.UnboundTypeError=Jr(Error,"UnboundTypeError"),Kr(),tn();var Jn={s:vr,v:mr,b:gr,g:wr,q:br,I:$r,f:Cr,T:_r,d:yr,ba:Tr,P:Pr,Y:Ar,aa:Qr,$:Zr,w:Xr,X:rn,x:an,h:on,K:un,L:cn,t:dn,n:fn,J:vn,C:Cn,A:_n,ca:Tn,Z:Pn,ea:Ht,da:An,M:On,V:jn,_:Mn,B:xn,W:kn,U:Wn,R:Hn,S:Vn,D:la,E:ca,m:da,a:Qn,e:ea,o:na,k:Kn,G:sa,u:oa,F:ua,z:ha,O:va,l:ta,j:ra,c:Xn,p:Zn,H:ia,r:fa,i:aa,y:pa,N:Ln,Q:qn},k=pr(),ne=i._free=n=>(ne=i._free=k.ha)(n),lt=i._malloc=n=>(lt=i._malloc=k.ia)(n),Jt=n=>(Jt=k.ka)(n);i.__embind_initialize_bindings=()=>(i.__embind_initialize_bindings=k.la)();var x=(n,e)=>(x=k.ma)(n,e),Ce=n=>(Ce=k.na)(n),F=()=>(F=k.oa)(),W=n=>(W=k.pa)(n),Qt=n=>(Qt=k.qa)(n),Zt=n=>(Zt=k.ra)(n),Xt=(n,e,t)=>(Xt=k.sa)(n,e,t),Kt=n=>(Kt=k.ta)(n);i.dynCall_viijii=(n,e,t,r,a,s,u)=>(i.dynCall_viijii=k.ua)(n,e,t,r,a,s,u);var er=i.dynCall_jiiii=(n,e,t,r,a)=>(er=i.dynCall_jiiii=k.va)(n,e,t,r,a);i.dynCall_iiiiij=(n,e,t,r,a,s,u)=>(i.dynCall_iiiiij=k.wa)(n,e,t,r,a,s,u),i.dynCall_iiiiijj=(n,e,t,r,a,s,u,l,d)=>(i.dynCall_iiiiijj=k.xa)(n,e,t,r,a,s,u,l,d),i.dynCall_iiiiiijj=(n,e,t,r,a,s,u,l,d,f)=>(i.dynCall_iiiiiijj=k.ya)(n,e,t,r,a,s,u,l,d,f);function Qn(n,e){var t=F();try{return R(n)(e)}catch(r){if(W(t),r!==r+0)throw r;x(1,0)}}function Zn(n,e,t,r){var a=F();try{R(n)(e,t,r)}catch(s){if(W(a),s!==s+0)throw s;x(1,0)}}function Xn(n,e,t){var r=F();try{R(n)(e,t)}catch(a){if(W(r),a!==a+0)throw a;x(1,0)}}function Kn(n,e,t,r,a){var s=F();try{return R(n)(e,t,r,a)}catch(u){if(W(s),u!==u+0)throw u;x(1,0)}}function ea(n,e,t){var r=F();try{return R(n)(e,t)}catch(a){if(W(r),a!==a+0)throw a;x(1,0)}}function ta(n){var e=F();try{R(n)()}catch(t){if(W(e),t!==t+0)throw t;x(1,0)}}function ra(n,e){var t=F();try{R(n)(e)}catch(r){if(W(t),r!==r+0)throw r;x(1,0)}}function na(n,e,t,r){var a=F();try{return R(n)(e,t,r)}catch(s){if(W(a),s!==s+0)throw s;x(1,0)}}function aa(n,e,t,r,a,s,u,l,d,f,v){var b=F();try{R(n)(e,t,r,a,s,u,l,d,f,v)}catch(_){if(W(b),_!==_+0)throw _;x(1,0)}}function oa(n,e,t,r,a,s,u){var l=F();try{return R(n)(e,t,r,a,s,u)}catch(d){if(W(l),d!==d+0)throw d;x(1,0)}}function ia(n,e,t,r,a){var s=F();try{R(n)(e,t,r,a)}catch(u){if(W(s),u!==u+0)throw u;x(1,0)}}function sa(n,e,t,r,a,s){var u=F();try{return R(n)(e,t,r,a,s)}catch(l){if(W(u),l!==l+0)throw l;x(1,0)}}function ua(n,e,t,r,a,s,u,l){var d=F();try{return R(n)(e,t,r,a,s,u,l)}catch(f){if(W(d),f!==f+0)throw f;x(1,0)}}function ca(n,e,t,r){var a=F();try{return R(n)(e,t,r)}catch(s){if(W(a),s!==s+0)throw s;x(1,0)}}function la(n,e,t,r){var a=F();try{return R(n)(e,t,r)}catch(s){if(W(a),s!==s+0)throw s;x(1,0)}}function da(n){var e=F();try{return R(n)()}catch(t){if(W(e),t!==t+0)throw t;x(1,0)}}function fa(n,e,t,r,a,s,u,l){var d=F();try{R(n)(e,t,r,a,s,u,l)}catch(f){if(W(d),f!==f+0)throw f;x(1,0)}}function ha(n,e,t,r,a,s,u,l,d,f,v,b){var _=F();try{return R(n)(e,t,r,a,s,u,l,d,f,v,b)}catch(S){if(W(_),S!==S+0)throw S;x(1,0)}}function pa(n,e,t,r,a,s,u,l,d,f,v,b,_,S,D,I){var U=F();try{R(n)(e,t,r,a,s,u,l,d,f,v,b,_,S,D,I)}catch(H){if(W(U),H!==H+0)throw H;x(1,0)}}function va(n,e,t,r,a){var s=F();try{return er(n,e,t,r,a)}catch(u){if(W(s),u!==u+0)throw u;x(1,0)}}var ht;ae=function n(){ht||dt(),ht||(ae=n)};function dt(){if(oe>0||(yt(),oe>0))return;function n(){ht||(ht=!0,i.calledRun=!0,!q&&(gt(),h(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),wt()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),n()},1)):n()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return dt(),c.ready}})();function No(o){return $a(Ca,o)}async function Yo(o,c){return Vo(Ca,o,c)}async function zo(o,c){return Lo(Ca,o,c)}(()=>{var o=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(c={}){var i=c,h,m;i.ready=new Promise((e,t)=>{h=e,m=t});var w=Object.assign({},i),$="./this.program",E=typeof window=="object",y=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var C="";function A(e){return i.locateFile?i.locateFile(e,C):C+e}var P;(E||y)&&(y?C=self.location.href:typeof document<"u"&&document.currentScript&&(C=document.currentScript.src),o&&(C=o),C.indexOf("blob:")!==0?C=C.substr(0,C.replace(/[?#].*/,"").lastIndexOf("/")+1):C="",y&&(P=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),i.print||console.log.bind(console);var Y=i.printErr||console.error.bind(console);Object.assign(i,w),w=null,i.arguments&&i.arguments,i.thisProgram&&($=i.thisProgram),i.quit&&i.quit;var B;i.wasmBinary&&(B=i.wasmBinary),typeof WebAssembly!="object"&&fe("no native wasm support detected");var z,q=!1;function se(e,t){e||fe(t)}var J,M,G,Z,V,j,Te,Pe;function Ie(){var e=z.buffer;i.HEAP8=J=new Int8Array(e),i.HEAP16=G=new Int16Array(e),i.HEAPU8=M=new Uint8Array(e),i.HEAPU16=Z=new Uint16Array(e),i.HEAP32=V=new Int32Array(e),i.HEAPU32=j=new Uint32Array(e),i.HEAPF32=Te=new Float32Array(e),i.HEAPF64=Pe=new Float64Array(e)}var Ue=[],He=[],Ye=[];function yt(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)ze(i.preRun.shift());qe(Ue)}function gt(){qe(He)}function wt(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)bt(i.postRun.shift());qe(Ye)}function ze(e){Ue.unshift(e)}function ft(e){He.unshift(e)}function bt(e){Ye.unshift(e)}var oe=0,ae=null;function ve(e){oe++,i.monitorRunDependencies&&i.monitorRunDependencies(oe)}function $t(e){if(oe--,i.monitorRunDependencies&&i.monitorRunDependencies(oe),oe==0&&ae){var t=ae;ae=null,t()}}function fe(e){i.onAbort&&i.onAbort(e),e="Aborted("+e+")",Y(e),q=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw m(t),t}var Ct="data:application/octet-stream;base64,",Be=e=>e.startsWith(Ct),ue;ue="zxing_full.wasm",Be(ue)||(ue=A(ue));function Ge(e){if(e==ue&&B)return new Uint8Array(B);if(P)return P(e);throw"both async and sync fetching of the wasm failed"}function fr(e){return!B&&(E||y)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>Ge(e)):Promise.resolve().then(()=>Ge(e))}function _t(e,t,r){return fr(e).then(a=>WebAssembly.instantiate(a,t)).then(a=>a).then(r,a=>{Y(`failed to asynchronously prepare wasm: ${a}`),fe(a)})}function hr(e,t,r,a){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!Be(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(s=>{var u=WebAssembly.instantiateStreaming(s,r);return u.then(a,function(l){return Y(`wasm streaming compile failed: ${l}`),Y("falling back to ArrayBuffer instantiation"),_t(t,r,a)})}):_t(t,r,a)}function pr(){var e={a:Jn};function t(a,s){return k=a.exports,z=k.ga,Ie(),Rt=k.ka,ft(k.ha),$t(),k}ve();function r(a){t(a.instance)}if(i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(a){Y(`Module.instantiateWasm callback failed with error: ${a}`),m(a)}return hr(B,ue,e,r).catch(m),{}}var qe=e=>{for(;e.length>0;)e.shift()(i)};i.noExitRuntime;var Se=[],Ee=0,vr=e=>{var t=new Je(e);return t.get_caught()||(t.set_caught(!0),Ee--),t.set_rethrown(!1),Se.push(t),Zt(t.excPtr),t.get_exception_ptr()},re=0,mr=()=>{x(0,0);var e=Se.pop();Qt(e.excPtr),re=0};function Je(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(t){j[this.ptr+4>>2]=t},this.get_type=function(){return j[this.ptr+4>>2]},this.set_destructor=function(t){j[this.ptr+8>>2]=t},this.get_destructor=function(){return j[this.ptr+8>>2]},this.set_caught=function(t){t=t?1:0,J[this.ptr+12>>0]=t},this.get_caught=function(){return J[this.ptr+12>>0]!=0},this.set_rethrown=function(t){t=t?1:0,J[this.ptr+13>>0]=t},this.get_rethrown=function(){return J[this.ptr+13>>0]!=0},this.init=function(t,r){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(r)},this.set_adjusted_ptr=function(t){j[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return j[this.ptr+16>>2]},this.get_exception_ptr=function(){var t=Kt(this.get_type());if(t)return j[this.excPtr>>2];var r=this.get_adjusted_ptr();return r!==0?r:this.excPtr}}var yr=e=>{throw re||(re=e),re},Qe=e=>{var t=re;if(!t)return Ce(0),0;var r=new Je(t);r.set_adjusted_ptr(t);var a=r.get_type();if(!a)return Ce(0),t;for(var s in e){var u=e[s];if(u===0||u===a)break;var l=r.ptr+16;if(Xt(u,a,l))return Ce(u),t}return Ce(a),t},gr=()=>Qe([]),wr=e=>Qe([e]),br=(e,t)=>Qe([e,t]),$r=()=>{var e=Se.pop();e||fe("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(Se.push(e),e.set_rethrown(!0),e.set_caught(!1),Ee++),re=t,re},Cr=(e,t,r)=>{var a=new Je(e);throw a.init(t,r),re=e,Ee++,re},_r=()=>Ee,Ae={},Tt=e=>{for(;e.length;){var t=e.pop(),r=e.pop();r(t)}};function Ze(e){return this.fromWireType(V[e>>2])}var he={},ce={},Oe={},Pt,De=e=>{throw new Pt(e)},le=(e,t,r)=>{e.forEach(function(d){Oe[d]=t});function a(d){var f=r(d);f.length!==e.length&&De("Mismatched type converter count");for(var v=0;v<e.length;++v)ee(e[v],f[v])}var s=new Array(t.length),u=[],l=0;t.forEach((d,f)=>{ce.hasOwnProperty(d)?s[f]=ce[d]:(u.push(d),he.hasOwnProperty(d)||(he[d]=[]),he[d].push(()=>{s[f]=ce[d],++l,l===u.length&&a(s)}))}),u.length===0&&a(s)},Tr=e=>{var t=Ae[e];delete Ae[e];var r=t.rawConstructor,a=t.rawDestructor,s=t.fields,u=s.map(l=>l.getterReturnType).concat(s.map(l=>l.setterArgumentType));le([e],u,l=>{var d={};return s.forEach((f,v)=>{var b=f.fieldName,_=l[v],S=f.getter,D=f.getterContext,I=l[v+s.length],U=f.setter,H=f.setterContext;d[b]={read:g=>_.fromWireType(S(D,g)),write:(g,p)=>{var T=[];U(H,g,I.toWireType(T,p)),Tt(T)}}}),[{name:t.name,fromWireType:f=>{var v={};for(var b in d)v[b]=d[b].read(f);return a(f),v},toWireType:(f,v)=>{for(var b in d)if(!(b in v))throw new TypeError(`Missing field: "${b}"`);var _=r();for(b in d)d[b].write(_,v[b]);return f!==null&&f.push(a,_),_},argPackAdvance:te,readValueFromPointer:Ze,destructorFunction:a}]})},Pr=(e,t,r,a,s)=>{},Sr=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);St=e},St,N=e=>{for(var t="",r=e;M[r];)t+=St[M[r++]];return t},pe,O=e=>{throw new pe(e)};function Er(e,t,r={}){var a=t.name;if(e||O(`type "${a}" must have a positive integer typeid pointer`),ce.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;O(`Cannot register type '${a}' twice`)}if(ce[e]=t,delete Oe[e],he.hasOwnProperty(e)){var s=he[e];delete he[e],s.forEach(u=>u())}}function ee(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Er(e,t,r)}var te=8,Ar=(e,t,r,a)=>{t=N(t),ee(e,{name:t,fromWireType:function(s){return!!s},toWireType:function(s,u){return u?r:a},argPackAdvance:te,readValueFromPointer:function(s){return this.fromWireType(M[s])},destructorFunction:null})},Or=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),Xe=e=>{function t(r){return r.$$.ptrType.registeredClass.name}O(t(e)+" instance already deleted")},Ke=!1,Et=e=>{},Dr=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},At=e=>{e.count.value-=1;var t=e.count.value===0;t&&Dr(e)},Ot=(e,t,r)=>{if(t===r)return e;if(r.baseClass===void 0)return null;var a=Ot(e,t,r.baseClass);return a===null?null:r.downcast(a)},Dt={},jr=()=>Object.keys(we).length,Mr=()=>{var e=[];for(var t in we)we.hasOwnProperty(t)&&e.push(we[t]);return e},ye=[],et=()=>{for(;ye.length;){var e=ye.pop();e.$$.deleteScheduled=!1,e.delete()}},ge,xr=e=>{ge=e,ye.length&&ge&&ge(et)},kr=()=>{i.getInheritedInstanceCount=jr,i.getLiveInheritedInstances=Mr,i.flushPendingDeletes=et,i.setDelayFunction=xr},we={},Rr=(e,t)=>{for(t===void 0&&O("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},Fr=(e,t)=>(t=Rr(e,t),we[t]),je=(e,t)=>{(!t.ptrType||!t.ptr)&&De("makeClassHandle requires ptr and ptrType");var r=!!t.smartPtrType,a=!!t.smartPtr;return r!==a&&De("Both smartPtrType and smartPtr must be specified"),t.count={value:1},be(Object.create(e,{$$:{value:t}}))};function Wr(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=Fr(this.registeredClass,t);if(r!==void 0){if(r.$$.count.value===0)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var a=r.clone();return this.destructor(e),a}function s(){return this.isSmartPointer?je(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):je(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var u=this.registeredClass.getActualType(t),l=Dt[u];if(!l)return s.call(this);var d;this.isConst?d=l.constPointerType:d=l.pointerType;var f=Ot(t,this.registeredClass,d.registeredClass);return f===null?s.call(this):this.isSmartPointer?je(d.registeredClass.instancePrototype,{ptrType:d,ptr:f,smartPtrType:this,smartPtr:e}):je(d.registeredClass.instancePrototype,{ptrType:d,ptr:f})}var be=e=>typeof FinalizationRegistry>"u"?(be=t=>t,e):(Ke=new FinalizationRegistry(t=>{At(t.$$)}),be=t=>{var r=t.$$,a=!!r.smartPtr;if(a){var s={$$:r};Ke.register(t,s,t)}return t},Et=t=>Ke.unregister(t),be(e)),Ir=()=>{Object.assign(Me.prototype,{isAliasOf(e){if(!(this instanceof Me)||!(e instanceof Me))return!1;var t=this.$$.ptrType.registeredClass,r=this.$$.ptr;e.$$=e.$$;for(var a=e.$$.ptrType.registeredClass,s=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;a.baseClass;)s=a.upcast(s),a=a.baseClass;return t===a&&r===s},clone(){if(this.$$.ptr||Xe(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=be(Object.create(Object.getPrototypeOf(this),{$$:{value:Or(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||Xe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&O("Object already scheduled for deletion"),Et(this),At(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Xe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&O("Object already scheduled for deletion"),ye.push(this),ye.length===1&&ge&&ge(et),this.$$.deleteScheduled=!0,this}})};function Me(){}var Ur=48,Hr=57,jt=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=Ur&&t<=Hr?`_${e}`:e};function tt(e,t){return e=jt(e),{[e]:function(){return t.apply(this,arguments)}}[e]}var Mt=(e,t,r)=>{if(e[t].overloadTable===void 0){var a=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||O(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[a.argCount]=a}},rt=(e,t,r)=>{i.hasOwnProperty(e)?((r===void 0||i[e].overloadTable!==void 0&&i[e].overloadTable[r]!==void 0)&&O(`Cannot register public name '${e}' twice`),Mt(i,e,e),i.hasOwnProperty(r)&&O(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),i[e].overloadTable[r]=t):(i[e]=t,r!==void 0&&(i[e].numArguments=r))};function Vr(e,t,r,a,s,u,l,d){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=a,this.baseClass=s,this.getActualType=u,this.upcast=l,this.downcast=d,this.pureVirtualFunctions=[]}var nt=(e,t,r)=>{for(;t!==r;)t.upcast||O(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function Lr(e,t){if(t===null)return this.isReference&&O(`null is not a valid ${this.name}`),0;t.$$||O(`Cannot pass "${st(t)}" as a ${this.name}`),t.$$.ptr||O(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=t.$$.ptrType.registeredClass,a=nt(t.$$.ptr,r,this.registeredClass);return a}function Nr(e,t){var r;if(t===null)return this.isReference&&O(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,r),r):0;t.$$||O(`Cannot pass "${st(t)}" as a ${this.name}`),t.$$.ptr||O(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&O(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var a=t.$$.ptrType.registeredClass;if(r=nt(t.$$.ptr,a,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&O("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:O(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var s=t.clone();r=this.rawShare(r,ie.toHandle(()=>s.delete())),e!==null&&e.push(this.rawDestructor,r)}break;default:O("Unsupporting sharing policy")}return r}function Yr(e,t){if(t===null)return this.isReference&&O(`null is not a valid ${this.name}`),0;t.$$||O(`Cannot pass "${st(t)}" as a ${this.name}`),t.$$.ptr||O(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&O(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var r=t.$$.ptrType.registeredClass,a=nt(t.$$.ptr,r,this.registeredClass);return a}function xt(e){return this.fromWireType(j[e>>2])}var zr=()=>{Object.assign(xe.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor&&this.rawDestructor(e)},argPackAdvance:te,readValueFromPointer:xt,deleteObject(e){e!==null&&e.delete()},fromWireType:Wr})};function xe(e,t,r,a,s,u,l,d,f,v,b){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=a,this.isSmartPointer=s,this.pointeeType=u,this.sharingPolicy=l,this.rawGetPointee=d,this.rawConstructor=f,this.rawShare=v,this.rawDestructor=b,!s&&t.baseClass===void 0?a?(this.toWireType=Lr,this.destructorFunction=null):(this.toWireType=Yr,this.destructorFunction=null):this.toWireType=Nr}var kt=(e,t,r)=>{i.hasOwnProperty(e)||De("Replacing nonexistant public symbol"),i[e].overloadTable!==void 0&&r!==void 0?i[e].overloadTable[r]=t:(i[e]=t,i[e].argCount=r)},Br=(e,t,r)=>{var a=i["dynCall_"+e];return r&&r.length?a.apply(null,[t].concat(r)):a.call(null,t)},ke=[],Rt,R=e=>{var t=ke[e];return t||(e>=ke.length&&(ke.length=e+1),ke[e]=t=Rt.get(e)),t},Gr=(e,t,r)=>{if(e.includes("j"))return Br(e,t,r);var a=R(t).apply(null,r);return a},qr=(e,t)=>{var r=[];return function(){return r.length=0,Object.assign(r,arguments),Gr(e,t,r)}},K=(e,t)=>{e=N(e);function r(){return e.includes("j")?qr(e,t):R(t)}var a=r();return typeof a!="function"&&O(`unknown function pointer with signature ${e}: ${t}`),a},Jr=(e,t)=>{var r=tt(t,function(a){this.name=t,this.message=a;var s=new Error(a).stack;s!==void 0&&(this.stack=this.toString()+`
`+s.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r},Ft,Wt=e=>{var t=Jt(e),r=N(t);return ne(t),r},Re=(e,t)=>{var r=[],a={};function s(u){if(!a[u]&&!ce[u]){if(Oe[u]){Oe[u].forEach(s);return}r.push(u),a[u]=!0}}throw t.forEach(s),new Ft(`${e}: `+r.map(Wt).join([", "]))},Qr=(e,t,r,a,s,u,l,d,f,v,b,_,S)=>{b=N(b),u=K(s,u),d&&(d=K(l,d)),v&&(v=K(f,v)),S=K(_,S);var D=jt(b);rt(D,function(){Re(`Cannot construct ${b} due to unbound types`,[a])}),le([e,t,r],a?[a]:[],function(I){I=I[0];var U,H;a?(U=I.registeredClass,H=U.instancePrototype):H=Me.prototype;var g=tt(D,function(){if(Object.getPrototypeOf(this)!==p)throw new pe("Use 'new' to construct "+b);if(T.constructor_body===void 0)throw new pe(b+" has no accessible constructor");var ar=T.constructor_body[arguments.length];if(ar===void 0)throw new pe(`Tried to invoke ctor of ${b} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(T.constructor_body).toString()}) parameters instead!`);return ar.apply(this,arguments)}),p=Object.create(H,{constructor:{value:g}});g.prototype=p;var T=new Vr(b,g,p,S,U,u,d,v);T.baseClass&&(T.baseClass.__derivedClasses===void 0&&(T.baseClass.__derivedClasses=[]),T.baseClass.__derivedClasses.push(T));var L=new xe(b,T,!0,!1,!1),Q=new xe(b+"*",T,!1,!1,!1),me=new xe(b+" const*",T,!1,!0,!1);return Dt[e]={pointerType:Q,constPointerType:me},kt(D,g),[L,Q,me]})},at=(e,t)=>{for(var r=[],a=0;a<e;a++)r.push(j[t+a*4>>2]);return r};function ot(e,t,r,a,s,u){var l=t.length;l<2&&O("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var d=t[1]!==null&&r!==null,f=!1,v=1;v<t.length;++v)if(t[v]!==null&&t[v].destructorFunction===void 0){f=!0;break}var b=t[0].name!=="void",_=l-2,S=new Array(_),D=[],I=[];return function(){arguments.length!==_&&O(`function ${e} called with ${arguments.length} arguments, expected ${_}`),I.length=0;var U;D.length=d?2:1,D[0]=s,d&&(U=t[1].toWireType(I,this),D[1]=U);for(var H=0;H<_;++H)S[H]=t[H+2].toWireType(I,arguments[H]),D.push(S[H]);var g=a.apply(null,D);function p(T){if(f)Tt(I);else for(var L=d?1:2;L<t.length;L++){var Q=L===1?U:S[L-2];t[L].destructorFunction!==null&&t[L].destructorFunction(Q)}if(b)return t[0].fromWireType(T)}return p(g)}}var Zr=(e,t,r,a,s,u)=>{var l=at(t,r);s=K(a,s),le([],[e],function(d){d=d[0];var f=`constructor ${d.name}`;if(d.registeredClass.constructor_body===void 0&&(d.registeredClass.constructor_body=[]),d.registeredClass.constructor_body[t-1]!==void 0)throw new pe(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${d.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return d.registeredClass.constructor_body[t-1]=()=>{Re(`Cannot construct ${d.name} due to unbound types`,l)},le([],l,v=>(v.splice(1,0,null),d.registeredClass.constructor_body[t-1]=ot(f,v,null,s,u),[])),[]})},It=e=>{e=e.trim();const t=e.indexOf("(");return t!==-1?(se(e[e.length-1]==")","Parentheses for argument names should match."),e.substr(0,t)):e},Xr=(e,t,r,a,s,u,l,d,f)=>{var v=at(r,a);t=N(t),t=It(t),u=K(s,u),le([],[e],function(b){b=b[0];var _=`${b.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),d&&b.registeredClass.pureVirtualFunctions.push(t);function S(){Re(`Cannot call ${_} due to unbound types`,v)}var D=b.registeredClass.instancePrototype,I=D[t];return I===void 0||I.overloadTable===void 0&&I.className!==b.name&&I.argCount===r-2?(S.argCount=r-2,S.className=b.name,D[t]=S):(Mt(D,t,_),D[t].overloadTable[r-2]=S),le([],v,function(U){var H=ot(_,U,b,u,l);return D[t].overloadTable===void 0?(H.argCount=r-2,D[t]=H):D[t].overloadTable[r-2]=H,[]}),[]})};function Kr(){Object.assign(Ut.prototype,{get(e){return this.allocated[e]},has(e){return this.allocated[e]!==void 0},allocate(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},free(e){this.allocated[e]=void 0,this.freelist.push(e)}})}function Ut(){this.allocated=[void 0],this.freelist=[]}var X=new Ut,Ht=e=>{e>=X.reserved&&--X.get(e).refcount===0&&X.free(e)},en=()=>{for(var e=0,t=X.reserved;t<X.allocated.length;++t)X.allocated[t]!==void 0&&++e;return e},tn=()=>{X.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),X.reserved=X.allocated.length,i.count_emval_handles=en},ie={toValue:e=>(e||O("Cannot use deleted val. handle = "+e),X.get(e).value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return X.allocate({refcount:1,value:e})}}},rn=(e,t)=>{t=N(t),ee(e,{name:t,fromWireType:r=>{var a=ie.toValue(r);return Ht(r),a},toWireType:(r,a)=>ie.toHandle(a),argPackAdvance:te,readValueFromPointer:Ze,destructorFunction:null})},nn=(e,t,r)=>{switch(t){case 1:return r?function(a){return this.fromWireType(J[a>>0])}:function(a){return this.fromWireType(M[a>>0])};case 2:return r?function(a){return this.fromWireType(G[a>>1])}:function(a){return this.fromWireType(Z[a>>1])};case 4:return r?function(a){return this.fromWireType(V[a>>2])}:function(a){return this.fromWireType(j[a>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},an=(e,t,r,a)=>{t=N(t);function s(){}s.values={},ee(e,{name:t,constructor:s,fromWireType:function(u){return this.constructor.values[u]},toWireType:(u,l)=>l.value,argPackAdvance:te,readValueFromPointer:nn(t,r,a),destructorFunction:null}),rt(t,s)},it=(e,t)=>{var r=ce[e];return r===void 0&&O(t+" has unknown type "+Wt(e)),r},on=(e,t,r)=>{var a=it(e,"enum");t=N(t);var s=a.constructor,u=Object.create(a.constructor.prototype,{value:{value:r},constructor:{value:tt(`${a.name}_${t}`,function(){})}});s.values[r]=u,s[t]=u},st=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},sn=(e,t)=>{switch(t){case 4:return function(r){return this.fromWireType(Te[r>>2])};case 8:return function(r){return this.fromWireType(Pe[r>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},un=(e,t,r)=>{t=N(t),ee(e,{name:t,fromWireType:a=>a,toWireType:(a,s)=>s,argPackAdvance:te,readValueFromPointer:sn(t,r),destructorFunction:null})},cn=(e,t,r,a,s,u,l)=>{var d=at(t,r);e=N(e),e=It(e),s=K(a,s),rt(e,function(){Re(`Cannot call ${e} due to unbound types`,d)},t-1),le([],d,function(f){var v=[f[0],null].concat(f.slice(1));return kt(e,ot(e,v,null,s,u),t-1),[]})},ln=(e,t,r)=>{switch(t){case 1:return r?a=>J[a>>0]:a=>M[a>>0];case 2:return r?a=>G[a>>1]:a=>Z[a>>1];case 4:return r?a=>V[a>>2]:a=>j[a>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},dn=(e,t,r,a,s)=>{t=N(t);var u=b=>b;if(a===0){var l=32-8*r;u=b=>b<<l>>>l}var d=t.includes("unsigned"),f=(b,_)=>{},v;d?v=function(b,_){return f(_,this.name),_>>>0}:v=function(b,_){return f(_,this.name),_},ee(e,{name:t,fromWireType:u,toWireType:v,argPackAdvance:te,readValueFromPointer:ln(t,r,a!==0),destructorFunction:null})},fn=(e,t,r)=>{var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],s=a[t];function u(l){var d=j[l>>2],f=j[l+4>>2];return new s(J.buffer,f,d)}r=N(r),ee(e,{name:r,fromWireType:u,argPackAdvance:te,readValueFromPointer:u},{ignoreDuplicateRegistrations:!0})},Vt=(e,t,r,a)=>{if(!(a>0))return 0;for(var s=r,u=r+a-1,l=0;l<e.length;++l){var d=e.charCodeAt(l);if(d>=55296&&d<=57343){var f=e.charCodeAt(++l);d=65536+((d&1023)<<10)|f&1023}if(d<=127){if(r>=u)break;t[r++]=d}else if(d<=2047){if(r+1>=u)break;t[r++]=192|d>>6,t[r++]=128|d&63}else if(d<=65535){if(r+2>=u)break;t[r++]=224|d>>12,t[r++]=128|d>>6&63,t[r++]=128|d&63}else{if(r+3>=u)break;t[r++]=240|d>>18,t[r++]=128|d>>12&63,t[r++]=128|d>>6&63,t[r++]=128|d&63}}return t[r]=0,r-s},hn=(e,t,r)=>Vt(e,M,t,r),Lt=e=>{for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a<=127?t++:a<=2047?t+=2:a>=55296&&a<=57343?(t+=4,++r):t+=3}return t},Nt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,pn=(e,t,r)=>{for(var a=t+r,s=t;e[s]&&!(s>=a);)++s;if(s-t>16&&e.buffer&&Nt)return Nt.decode(e.subarray(t,s));for(var u="";t<s;){var l=e[t++];if(!(l&128)){u+=String.fromCharCode(l);continue}var d=e[t++]&63;if((l&224)==192){u+=String.fromCharCode((l&31)<<6|d);continue}var f=e[t++]&63;if((l&240)==224?l=(l&15)<<12|d<<6|f:l=(l&7)<<18|d<<12|f<<6|e[t++]&63,l<65536)u+=String.fromCharCode(l);else{var v=l-65536;u+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return u},ut=(e,t)=>e?pn(M,e,t):"",vn=(e,t)=>{t=N(t);var r=t==="std::string";ee(e,{name:t,fromWireType(a){var s=j[a>>2],u=a+4,l;if(r)for(var d=u,f=0;f<=s;++f){var v=u+f;if(f==s||M[v]==0){var b=v-d,_=ut(d,b);l===void 0?l=_:(l+=String.fromCharCode(0),l+=_),d=v+1}}else{for(var S=new Array(s),f=0;f<s;++f)S[f]=String.fromCharCode(M[u+f]);l=S.join("")}return ne(a),l},toWireType(a,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var u,l=typeof s=="string";l||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||O("Cannot pass non-string to std::string"),r&&l?u=Lt(s):u=s.length;var d=lt(4+u+1),f=d+4;if(j[d>>2]=u,r&&l)hn(s,f,u+1);else if(l)for(var v=0;v<u;++v){var b=s.charCodeAt(v);b>255&&(ne(f),O("String has UTF-16 code units that do not fit in 8 bits")),M[f+v]=b}else for(var v=0;v<u;++v)M[f+v]=s[v];return a!==null&&a.push(ne,d),d},argPackAdvance:te,readValueFromPointer:xt,destructorFunction(a){ne(a)}})},Yt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,mn=(e,t)=>{for(var r=e,a=r>>1,s=a+t/2;!(a>=s)&&Z[a];)++a;if(r=a<<1,r-e>32&&Yt)return Yt.decode(M.subarray(e,r));for(var u="",l=0;!(l>=t/2);++l){var d=G[e+l*2>>1];if(d==0)break;u+=String.fromCharCode(d)}return u},yn=(e,t,r)=>{if(r===void 0&&(r=2147483647),r<2)return 0;r-=2;for(var a=t,s=r<e.length*2?r/2:e.length,u=0;u<s;++u){var l=e.charCodeAt(u);G[t>>1]=l,t+=2}return G[t>>1]=0,t-a},gn=e=>e.length*2,wn=(e,t)=>{for(var r=0,a="";!(r>=t/4);){var s=V[e+r*4>>2];if(s==0)break;if(++r,s>=65536){var u=s-65536;a+=String.fromCharCode(55296|u>>10,56320|u&1023)}else a+=String.fromCharCode(s)}return a},bn=(e,t,r)=>{if(r===void 0&&(r=2147483647),r<4)return 0;for(var a=t,s=a+r-4,u=0;u<e.length;++u){var l=e.charCodeAt(u);if(l>=55296&&l<=57343){var d=e.charCodeAt(++u);l=65536+((l&1023)<<10)|d&1023}if(V[t>>2]=l,t+=4,t+4>s)break}return V[t>>2]=0,t-a},$n=e=>{for(var t=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=55296&&a<=57343&&++r,t+=4}return t},Cn=(e,t,r)=>{r=N(r);var a,s,u,l,d;t===2?(a=mn,s=yn,l=gn,u=()=>Z,d=1):t===4&&(a=wn,s=bn,l=$n,u=()=>j,d=2),ee(e,{name:r,fromWireType:f=>{for(var v=j[f>>2],b=u(),_,S=f+4,D=0;D<=v;++D){var I=f+4+D*t;if(D==v||b[I>>d]==0){var U=I-S,H=a(S,U);_===void 0?_=H:(_+=String.fromCharCode(0),_+=H),S=I+t}}return ne(f),_},toWireType:(f,v)=>{typeof v!="string"&&O(`Cannot pass non-string to C++ string type ${r}`);var b=l(v),_=lt(4+b+t);return j[_>>2]=b>>d,s(v,_+4,b+t),f!==null&&f.push(ne,_),_},argPackAdvance:te,readValueFromPointer:Ze,destructorFunction(f){ne(f)}})},_n=(e,t,r,a,s,u)=>{Ae[e]={name:N(t),rawConstructor:K(r,a),rawDestructor:K(s,u),fields:[]}},Tn=(e,t,r,a,s,u,l,d,f,v)=>{Ae[e].fields.push({fieldName:N(t),getterReturnType:r,getter:K(a,s),getterContext:u,setterArgumentType:l,setter:K(d,f),setterContext:v})},Pn=(e,t)=>{t=N(t),ee(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(r,a)=>{}})},Sn={},En=e=>{var t=Sn[e];return t===void 0?N(e):t},zt=()=>{if(typeof globalThis=="object")return globalThis;function e(t){t.$$$embind_global$$$=t;var r=typeof $$$embind_global$$$=="object"&&t.$$$embind_global$$$==t;return r||delete t.$$$embind_global$$$,r}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&e(global)?$$$embind_global$$$=global:typeof self=="object"&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},An=e=>e===0?ie.toHandle(zt()):(e=En(e),ie.toHandle(zt()[e])),On=e=>{e>4&&(X.get(e).refcount+=1)},Dn=e=>{var t=new Array(e+1);return function(r,a,s){t[0]=r;for(var u=0;u<e;++u){var l=it(j[a+u*4>>2],"parameter "+u);t[u+1]=l.readValueFromPointer(s),s+=l.argPackAdvance}var d=new(r.bind.apply(r,t));return ie.toHandle(d)}},Bt={},jn=(e,t,r,a)=>{e=ie.toValue(e);var s=Bt[t];return s||(s=Dn(t),Bt[t]=s),s(e,r,a)},Mn=(e,t)=>{e=it(e,"_emval_take_value");var r=e.readValueFromPointer(t);return ie.toHandle(r)},xn=()=>{fe("")},kn=(e,t,r)=>M.copyWithin(e,t,t+r),Rn=()=>2147483648,Fn=e=>{var t=z.buffer,r=(e-t.byteLength+65535)/65536;try{return z.grow(r),Ie(),1}catch{}},Wn=e=>{var t=M.length;e>>>=0;var r=Rn();if(e>r)return!1;for(var a=(f,v)=>f+(v-f%v)%v,s=1;s<=4;s*=2){var u=t*(1+.2/s);u=Math.min(u,e+100663296);var l=Math.min(r,a(Math.max(e,u),65536)),d=Fn(l);if(d)return!0}return!1},ct={},In=()=>$||"./this.program",$e=()=>{if(!$e.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:In()};for(var r in ct)ct[r]===void 0?delete t[r]:t[r]=ct[r];var a=[];for(var r in t)a.push(`${r}=${t[r]}`);$e.strings=a}return $e.strings},Un=(e,t)=>{for(var r=0;r<e.length;++r)J[t++>>0]=e.charCodeAt(r);J[t>>0]=0},Hn=(e,t)=>{var r=0;return $e().forEach((a,s)=>{var u=t+r;j[e+s*4>>2]=u,Un(a,u),r+=a.length+1}),0},Vn=(e,t)=>{var r=$e();j[e>>2]=r.length;var a=0;return r.forEach(s=>a+=s.length+1),j[t>>2]=a,0},Ln=e=>e,Fe=e=>e%4===0&&(e%100!==0||e%400===0),Nn=(e,t)=>{for(var r=0,a=0;a<=t;r+=e[a++]);return r},Gt=[31,29,31,30,31,30,31,31,30,31,30,31],qt=[31,28,31,30,31,30,31,31,30,31,30,31],Yn=(e,t)=>{for(var r=new Date(e.getTime());t>0;){var a=Fe(r.getFullYear()),s=r.getMonth(),u=(a?Gt:qt)[s];if(t>u-r.getDate())t-=u-r.getDate()+1,r.setDate(1),s<11?r.setMonth(s+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1));else return r.setDate(r.getDate()+t),r}return r};function zn(e,t,r){var a=r>0?r:Lt(e)+1,s=new Array(a),u=Vt(e,s,0,s.length);return t&&(s.length=u),s}var Bn=(e,t)=>{J.set(e,t)},Gn=(e,t,r,a)=>{var s=j[a+40>>2],u={tm_sec:V[a>>2],tm_min:V[a+4>>2],tm_hour:V[a+8>>2],tm_mday:V[a+12>>2],tm_mon:V[a+16>>2],tm_year:V[a+20>>2],tm_wday:V[a+24>>2],tm_yday:V[a+28>>2],tm_isdst:V[a+32>>2],tm_gmtoff:V[a+36>>2],tm_zone:s?ut(s):""},l=ut(r),d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in d)l=l.replace(new RegExp(f,"g"),d[f]);var v=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b=["January","February","March","April","May","June","July","August","September","October","November","December"];function _(p,T,L){for(var Q=typeof p=="number"?p.toString():p||"";Q.length<T;)Q=L[0]+Q;return Q}function S(p,T){return _(p,T,"0")}function D(p,T){function L(me){return me<0?-1:me>0?1:0}var Q;return(Q=L(p.getFullYear()-T.getFullYear()))===0&&(Q=L(p.getMonth()-T.getMonth()))===0&&(Q=L(p.getDate()-T.getDate())),Q}function I(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function U(p){var T=Yn(new Date(p.tm_year+1900,0,1),p.tm_yday),L=new Date(T.getFullYear(),0,4),Q=new Date(T.getFullYear()+1,0,4),me=I(L),ar=I(Q);return D(me,T)<=0?D(ar,T)<=0?T.getFullYear()+1:T.getFullYear():T.getFullYear()-1}var H={"%a":p=>v[p.tm_wday].substring(0,3),"%A":p=>v[p.tm_wday],"%b":p=>b[p.tm_mon].substring(0,3),"%B":p=>b[p.tm_mon],"%C":p=>{var T=p.tm_year+1900;return S(T/100|0,2)},"%d":p=>S(p.tm_mday,2),"%e":p=>_(p.tm_mday,2," "),"%g":p=>U(p).toString().substring(2),"%G":p=>U(p),"%H":p=>S(p.tm_hour,2),"%I":p=>{var T=p.tm_hour;return T==0?T=12:T>12&&(T-=12),S(T,2)},"%j":p=>S(p.tm_mday+Nn(Fe(p.tm_year+1900)?Gt:qt,p.tm_mon-1),3),"%m":p=>S(p.tm_mon+1,2),"%M":p=>S(p.tm_min,2),"%n":()=>`
`,"%p":p=>p.tm_hour>=0&&p.tm_hour<12?"AM":"PM","%S":p=>S(p.tm_sec,2),"%t":()=>"	","%u":p=>p.tm_wday||7,"%U":p=>{var T=p.tm_yday+7-p.tm_wday;return S(Math.floor(T/7),2)},"%V":p=>{var T=Math.floor((p.tm_yday+7-(p.tm_wday+6)%7)/7);if((p.tm_wday+371-p.tm_yday-2)%7<=2&&T++,T){if(T==53){var L=(p.tm_wday+371-p.tm_yday)%7;L!=4&&(L!=3||!Fe(p.tm_year))&&(T=1)}}else{T=52;var Q=(p.tm_wday+7-p.tm_yday-1)%7;(Q==4||Q==5&&Fe(p.tm_year%400-1))&&T++}return S(T,2)},"%w":p=>p.tm_wday,"%W":p=>{var T=p.tm_yday+7-(p.tm_wday+6)%7;return S(Math.floor(T/7),2)},"%y":p=>(p.tm_year+1900).toString().substring(2),"%Y":p=>p.tm_year+1900,"%z":p=>{var T=p.tm_gmtoff,L=T>=0;return T=Math.abs(T)/60,T=T/60*100+T%60,(L?"+":"-")+("0000"+T).slice(-4)},"%Z":p=>p.tm_zone,"%%":()=>"%"};l=l.replace(/%%/g,"\0\0");for(var f in H)l.includes(f)&&(l=l.replace(new RegExp(f,"g"),H[f](u)));l=l.replace(/\0\0/g,"%");var g=zn(l,!1);return g.length>t?0:(Bn(g,e),g.length-1)},qn=(e,t,r,a,s)=>Gn(e,t,r,a);Pt=i.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Sr(),pe=i.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Ir(),kr(),zr(),Ft=i.UnboundTypeError=Jr(Error,"UnboundTypeError"),Kr(),tn();var Jn={s:vr,v:mr,b:gr,g:wr,m:br,K:$r,e:Cr,T:_r,d:yr,ba:Tr,P:Pr,Y:Ar,aa:Qr,$:Zr,x:Xr,X:rn,y:an,j:on,M:un,D:cn,t:dn,p:fn,L:vn,C:Cn,w:_n,ca:Tn,Z:Pn,fa:Ht,da:An,N:On,W:jn,_:Mn,B:xn,V:kn,U:Wn,R:Hn,S:Vn,G:da,H:la,n:fa,a:Qn,f:ea,q:na,k:Kn,J:ua,u:sa,I:ca,A:pa,O:ht,l:ta,i:ra,c:Xn,o:Zn,E:oa,ea:aa,r:ha,h:ia,z:va,F:Ln,Q:qn},k=pr(),ne=i._free=e=>(ne=i._free=k.ia)(e),lt=i._malloc=e=>(lt=i._malloc=k.ja)(e),Jt=e=>(Jt=k.la)(e);i.__embind_initialize_bindings=()=>(i.__embind_initialize_bindings=k.ma)();var x=(e,t)=>(x=k.na)(e,t),Ce=e=>(Ce=k.oa)(e),F=()=>(F=k.pa)(),W=e=>(W=k.qa)(e),Qt=e=>(Qt=k.ra)(e),Zt=e=>(Zt=k.sa)(e),Xt=(e,t,r)=>(Xt=k.ta)(e,t,r),Kt=e=>(Kt=k.ua)(e);i.dynCall_viijii=(e,t,r,a,s,u,l)=>(i.dynCall_viijii=k.va)(e,t,r,a,s,u,l);var er=i.dynCall_jiiii=(e,t,r,a,s)=>(er=i.dynCall_jiiii=k.wa)(e,t,r,a,s);i.dynCall_iiiiij=(e,t,r,a,s,u,l)=>(i.dynCall_iiiiij=k.xa)(e,t,r,a,s,u,l),i.dynCall_iiiiijj=(e,t,r,a,s,u,l,d,f)=>(i.dynCall_iiiiijj=k.ya)(e,t,r,a,s,u,l,d,f),i.dynCall_iiiiiijj=(e,t,r,a,s,u,l,d,f,v)=>(i.dynCall_iiiiiijj=k.za)(e,t,r,a,s,u,l,d,f,v);function Qn(e,t){var r=F();try{return R(e)(t)}catch(a){if(W(r),a!==a+0)throw a;x(1,0)}}function Zn(e,t,r,a){var s=F();try{R(e)(t,r,a)}catch(u){if(W(s),u!==u+0)throw u;x(1,0)}}function Xn(e,t,r){var a=F();try{R(e)(t,r)}catch(s){if(W(a),s!==s+0)throw s;x(1,0)}}function Kn(e,t,r,a,s){var u=F();try{return R(e)(t,r,a,s)}catch(l){if(W(u),l!==l+0)throw l;x(1,0)}}function ea(e,t,r){var a=F();try{return R(e)(t,r)}catch(s){if(W(a),s!==s+0)throw s;x(1,0)}}function ta(e){var t=F();try{R(e)()}catch(r){if(W(t),r!==r+0)throw r;x(1,0)}}function ra(e,t){var r=F();try{R(e)(t)}catch(a){if(W(r),a!==a+0)throw a;x(1,0)}}function na(e,t,r,a){var s=F();try{return R(e)(t,r,a)}catch(u){if(W(s),u!==u+0)throw u;x(1,0)}}function aa(e,t,r,a,s,u){var l=F();try{R(e)(t,r,a,s,u)}catch(d){if(W(l),d!==d+0)throw d;x(1,0)}}function oa(e,t,r,a,s){var u=F();try{R(e)(t,r,a,s)}catch(l){if(W(u),l!==l+0)throw l;x(1,0)}}function ia(e,t,r,a,s,u,l,d,f,v,b){var _=F();try{R(e)(t,r,a,s,u,l,d,f,v,b)}catch(S){if(W(_),S!==S+0)throw S;x(1,0)}}function sa(e,t,r,a,s,u,l){var d=F();try{return R(e)(t,r,a,s,u,l)}catch(f){if(W(d),f!==f+0)throw f;x(1,0)}}function ua(e,t,r,a,s,u){var l=F();try{return R(e)(t,r,a,s,u)}catch(d){if(W(l),d!==d+0)throw d;x(1,0)}}function ca(e,t,r,a,s,u,l,d){var f=F();try{return R(e)(t,r,a,s,u,l,d)}catch(v){if(W(f),v!==v+0)throw v;x(1,0)}}function la(e,t,r,a){var s=F();try{return R(e)(t,r,a)}catch(u){if(W(s),u!==u+0)throw u;x(1,0)}}function da(e,t,r,a){var s=F();try{return R(e)(t,r,a)}catch(u){if(W(s),u!==u+0)throw u;x(1,0)}}function fa(e){var t=F();try{return R(e)()}catch(r){if(W(t),r!==r+0)throw r;x(1,0)}}function ha(e,t,r,a,s,u,l,d){var f=F();try{R(e)(t,r,a,s,u,l,d)}catch(v){if(W(f),v!==v+0)throw v;x(1,0)}}function pa(e,t,r,a,s,u,l,d,f,v,b,_){var S=F();try{return R(e)(t,r,a,s,u,l,d,f,v,b,_)}catch(D){if(W(S),D!==D+0)throw D;x(1,0)}}function va(e,t,r,a,s,u,l,d,f,v,b,_,S,D,I,U){var H=F();try{R(e)(t,r,a,s,u,l,d,f,v,b,_,S,D,I,U)}catch(g){if(W(H),g!==g+0)throw g;x(1,0)}}function ht(e,t,r,a,s){var u=F();try{return er(e,t,r,a,s)}catch(l){if(W(u),l!==l+0)throw l;x(1,0)}}var dt;ae=function e(){dt||n(),dt||(ae=e)};function n(){if(oe>0||(yt(),oe>0))return;function e(){dt||(dt=!0,i.calledRun=!0,!q&&(gt(),h(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),wt()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),e()},1)):e()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return n(),c.ready}})();const wa=new Map([["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["data_matrix","DataMatrix"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["pdf417","PDF417"],["qr_code","QRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"]]);function Bo(o){for(const[c,i]of wa)if(o===i)return c;return"unknown"}var tr;class dr extends EventTarget{constructor(c={}){var i;super(),wo(this,tr,void 0);try{const h=(i=c==null?void 0:c.formats)==null?void 0:i.filter(m=>m!=="unknown");if((h==null?void 0:h.length)===0)throw new TypeError("Hint option provided, but is empty.");h==null||h.forEach(m=>{if(!Pa.includes(m))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${m}' is not a valid enum value of type BarcodeFormat.`)}),bo(this,tr,h??[]),No().then(m=>{this.dispatchEvent(new CustomEvent("load",{detail:m}))}).catch(m=>{this.dispatchEvent(new CustomEvent("error",{detail:m}))})}catch(h){throw Sa(h,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return Pa.filter(c=>c!=="unknown")}async detect(c){try{const i=await So(c);if(i===null)return[];let h;try{Na(i)?h=await Yo(i,{tryHarder:!0,formats:Ta(this,tr).map(m=>wa.get(m))}):h=await zo(i,{tryHarder:!0,formats:Ta(this,tr).map(m=>wa.get(m))})}catch(m){throw console.error(m),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return h.map(m=>{const{topLeft:{x:w,y:$},topRight:{x:E,y},bottomLeft:{x:C,y:A},bottomRight:{x:P,y:Y}}=m.position,B=Math.min(w,E,C,P),z=Math.min($,y,A,Y),q=Math.max(w,E,C,P),se=Math.max($,y,A,Y);return{boundingBox:new DOMRectReadOnly(B,z,q-B,se-z),rawValue:m.text,format:Bo(m.format),cornerPoints:[{x:w,y:$},{x:E,y},{x:P,y:Y},{x:C,y:A}]}})}catch(i){throw Sa(i,"Failed to execute 'detect' on 'BarcodeDetector'")}}}tr=new WeakMap;const _a=(o,c,i="error")=>{let h,m;const w=new Promise(($,E)=>{h=$,m=E,o.addEventListener(c,h),o.addEventListener(i,m)});return w.finally(()=>{o.removeEventListener(c,h),o.removeEventListener(i,m)}),w},Da=o=>new Promise(c=>setTimeout(c,o));class Go extends Error{constructor(){super("can't process cross-origin image"),this.name="DropImageFetchError"}}class Ga extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class qo extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class Jo extends Error{constructor(){super("Loading camera stream timed out after 3 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}let ba;const Qo=o=>{ba=new dr({formats:o})},Zo=async(o,{detectHandler:c,locateHandler:i,minDelay:h,formats:m})=>{ba=new dr({formats:m});const w=$=>async E=>{if(o.readyState>1){const{lastScanned:y,contentBefore:C,lastScanHadContent:A}=$;if(E-y<h)window.requestAnimationFrame(w($));else{const P=await ba.detect(o),Y=P.some(q=>!C.includes(q.rawValue));Y&&c(P);const B=P.length>0;B&&i(P),!B&&A&&i(P);const z={lastScanned:E,lastScanHadContent:B,contentBefore:Y?P.map(q=>q.rawValue):C};window.requestAnimationFrame(w(z))}}};w({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())},Xo=async o=>{if(o.startsWith("http")&&o.includes(location.host)===!1)throw new Go;const c=document.createElement("img");return c.src=o,await _a(c,"load"),c},qa=async(o,c=["qr_code"])=>await new dr({formats:c}).detect(o),Ko=async(o,c=["qr_code"])=>{const i=new dr({formats:c}),h=await Xo(o);return await i.detect(h)};var Ja={},de={};Object.defineProperty(de,"__esModule",{value:!0});de.compactObject=Xa;de.deprecated=ui;var ei=de.detectBrowser=ci;de.disableLog=oi;de.disableWarnings=ii;de.extractVersion=sr;de.filterStats=li;de.log=si;de.walkStats=cr;de.wrapPeerConnectionEvent=ai;function ti(o,c,i){return c=ri(c),c in o?Object.defineProperty(o,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[c]=i,o}function ri(o){var c=ni(o,"string");return Le(c)==="symbol"?c:String(c)}function ni(o,c){if(Le(o)!=="object"||o===null)return o;var i=o[Symbol.toPrimitive];if(i!==void 0){var h=i.call(o,c||"default");if(Le(h)!=="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(o)}function Le(o){"@babel/helpers - typeof";return Le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Le(o)}var Qa=!0,Za=!0;function sr(o,c,i){var h=o.match(c);return h&&h.length>=i&&parseInt(h[i],10)}function ai(o,c,i){if(o.RTCPeerConnection){var h=o.RTCPeerConnection.prototype,m=h.addEventListener;h.addEventListener=function($,E){if($!==c)return m.apply(this,arguments);var y=function(C){var A=i(C);A&&(E.handleEvent?E.handleEvent(A):E(A))};return this._eventMap=this._eventMap||{},this._eventMap[c]||(this._eventMap[c]=new Map),this._eventMap[c].set(E,y),m.apply(this,[$,y])};var w=h.removeEventListener;h.removeEventListener=function($,E){if($!==c||!this._eventMap||!this._eventMap[c])return w.apply(this,arguments);if(!this._eventMap[c].has(E))return w.apply(this,arguments);var y=this._eventMap[c].get(E);return this._eventMap[c].delete(E),this._eventMap[c].size===0&&delete this._eventMap[c],Object.keys(this._eventMap).length===0&&delete this._eventMap,w.apply(this,[$,y])},Object.defineProperty(h,"on"+c,{get:function(){return this["_on"+c]},set:function($){this["_on"+c]&&(this.removeEventListener(c,this["_on"+c]),delete this["_on"+c]),$&&this.addEventListener(c,this["_on"+c]=$)},enumerable:!0,configurable:!0})}}function oi(o){return typeof o!="boolean"?new Error("Argument type: "+Le(o)+". Please use a boolean."):(Qa=o,o?"adapter.js logging disabled":"adapter.js logging enabled")}function ii(o){return typeof o!="boolean"?new Error("Argument type: "+Le(o)+". Please use a boolean."):(Za=!o,"adapter.js deprecation warnings "+(o?"disabled":"enabled"))}function si(){if((typeof window>"u"?"undefined":Le(window))==="object"){if(Qa)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function ui(o,c){Za&&console.warn(o+" is deprecated, please use "+c+" instead.")}function ci(o){var c={browser:null,version:null};if(typeof o>"u"||!o.navigator||!o.navigator.userAgent)return c.browser="Not a browser.",c;var i=o.navigator;if(i.mozGetUserMedia)c.browser="firefox",c.version=sr(i.userAgent,/Firefox\/(\d+)\./,1);else if(i.webkitGetUserMedia||o.isSecureContext===!1&&o.webkitRTCPeerConnection)c.browser="chrome",c.version=sr(i.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(o.RTCPeerConnection&&i.userAgent.match(/AppleWebKit\/(\d+)\./))c.browser="safari",c.version=sr(i.userAgent,/AppleWebKit\/(\d+)\./,1),c.supportsUnifiedPlan=o.RTCRtpTransceiver&&"currentDirection"in o.RTCRtpTransceiver.prototype;else return c.browser="Not a supported browser.",c;return c}function ja(o){return Object.prototype.toString.call(o)==="[object Object]"}function Xa(o){return ja(o)?Object.keys(o).reduce(function(c,i){var h=ja(o[i]),m=h?Xa(o[i]):o[i],w=h&&!Object.keys(m).length;return m===void 0||w?c:Object.assign(c,ti({},i,m))},{}):o}function cr(o,c,i){!c||i.has(c.id)||(i.set(c.id,c),Object.keys(c).forEach(function(h){h.endsWith("Id")?cr(o,o.get(c[h]),i):h.endsWith("Ids")&&c[h].forEach(function(m){cr(o,o.get(m),i)})}))}function li(o,c,i){var h=i?"outbound-rtp":"inbound-rtp",m=new Map;if(c===null)return m;var w=[];return o.forEach(function($){$.type==="track"&&$.trackIdentifier===c.id&&w.push($)}),w.forEach(function($){o.forEach(function(E){E.type===h&&E.trackId===$.id&&cr(o,E,m)})}),m}Object.defineProperty(Ja,"__esModule",{value:!0});var di=Ja.shimGetUserMedia=pi,fi=hi(de);function Ka(o){if(typeof WeakMap!="function")return null;var c=new WeakMap,i=new WeakMap;return(Ka=function(h){return h?i:c})(o)}function hi(o,c){if(!c&&o&&o.__esModule)return o;if(o===null||Ve(o)!=="object"&&typeof o!="function")return{default:o};var i=Ka(c);if(i&&i.has(o))return i.get(o);var h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in o)if(w!=="default"&&Object.prototype.hasOwnProperty.call(o,w)){var $=m?Object.getOwnPropertyDescriptor(o,w):null;$&&($.get||$.set)?Object.defineProperty(h,w,$):h[w]=o[w]}return h.default=o,i&&i.set(o,h),h}function Ve(o){"@babel/helpers - typeof";return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Ve(o)}var Ma=fi.log;function pi(o,c){var i=o&&o.navigator;if(i.mediaDevices){var h=function(y){if(Ve(y)!=="object"||y.mandatory||y.optional)return y;var C={};return Object.keys(y).forEach(function(A){if(!(A==="require"||A==="advanced"||A==="mediaSource")){var P=Ve(y[A])==="object"?y[A]:{ideal:y[A]};P.exact!==void 0&&typeof P.exact=="number"&&(P.min=P.max=P.exact);var Y=function(z,q){return z?z+q.charAt(0).toUpperCase()+q.slice(1):q==="deviceId"?"sourceId":q};if(P.ideal!==void 0){C.optional=C.optional||[];var B={};typeof P.ideal=="number"?(B[Y("min",A)]=P.ideal,C.optional.push(B),B={},B[Y("max",A)]=P.ideal,C.optional.push(B)):(B[Y("",A)]=P.ideal,C.optional.push(B))}P.exact!==void 0&&typeof P.exact!="number"?(C.mandatory=C.mandatory||{},C.mandatory[Y("",A)]=P.exact):["min","max"].forEach(function(z){P[z]!==void 0&&(C.mandatory=C.mandatory||{},C.mandatory[Y(z,A)]=P[z])})}}),y.advanced&&(C.optional=(C.optional||[]).concat(y.advanced)),C},m=function(y,C){if(c.version>=61)return C(y);if(y=JSON.parse(JSON.stringify(y)),y&&Ve(y.audio)==="object"){var A=function(z,q,se){q in z&&!(se in z)&&(z[se]=z[q],delete z[q])};y=JSON.parse(JSON.stringify(y)),A(y.audio,"autoGainControl","googAutoGainControl"),A(y.audio,"noiseSuppression","googNoiseSuppression"),y.audio=h(y.audio)}if(y&&Ve(y.video)==="object"){var P=y.video.facingMode;P=P&&(Ve(P)==="object"?P:{ideal:P});var Y=c.version<66;if(P&&(P.exact==="user"||P.exact==="environment"||P.ideal==="user"||P.ideal==="environment")&&!(i.mediaDevices.getSupportedConstraints&&i.mediaDevices.getSupportedConstraints().facingMode&&!Y)){delete y.video.facingMode;var B;if(P.exact==="environment"||P.ideal==="environment"?B=["back","rear"]:(P.exact==="user"||P.ideal==="user")&&(B=["front"]),B)return i.mediaDevices.enumerateDevices().then(function(z){z=z.filter(function(se){return se.kind==="videoinput"});var q=z.find(function(se){return B.some(function(J){return se.label.toLowerCase().includes(J)})});return!q&&z.length&&B.includes("back")&&(q=z[z.length-1]),q&&(y.video.deviceId=P.exact?{exact:q.deviceId}:{ideal:q.deviceId}),y.video=h(y.video),Ma("chrome: "+JSON.stringify(y)),C(y)})}y.video=h(y.video)}return Ma("chrome: "+JSON.stringify(y)),C(y)},w=function(y){return c.version>=64?y:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[y.name]||y.name,message:y.message,constraint:y.constraint||y.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},$=function(y,C,A){m(y,function(P){i.webkitGetUserMedia(P,C,function(Y){A&&A(w(Y))})})};if(i.getUserMedia=$.bind(i),i.mediaDevices.getUserMedia){var E=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(y){return m(y,function(C){return E(C).then(function(A){if(C.audio&&!A.getAudioTracks().length||C.video&&!A.getVideoTracks().length)throw A.getTracks().forEach(function(P){P.stop()}),new DOMException("","NotFoundError");return A},function(A){return Promise.reject(w(A))})})}}}}var eo={};Object.defineProperty(eo,"__esModule",{value:!0});var vi=eo.shimGetUserMedia=gi,mi=yi(de);function to(o){if(typeof WeakMap!="function")return null;var c=new WeakMap,i=new WeakMap;return(to=function(h){return h?i:c})(o)}function yi(o,c){if(!c&&o&&o.__esModule)return o;if(o===null||vt(o)!=="object"&&typeof o!="function")return{default:o};var i=to(c);if(i&&i.has(o))return i.get(o);var h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in o)if(w!=="default"&&Object.prototype.hasOwnProperty.call(o,w)){var $=m?Object.getOwnPropertyDescriptor(o,w):null;$&&($.get||$.set)?Object.defineProperty(h,w,$):h[w]=o[w]}return h.default=o,i&&i.set(o,h),h}function vt(o){"@babel/helpers - typeof";return vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},vt(o)}function gi(o,c){var i=o&&o.navigator,h=o&&o.MediaStreamTrack;if(i.getUserMedia=function(y,C,A){mi.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),i.mediaDevices.getUserMedia(y).then(C,A)},!(c.version>55&&"autoGainControl"in i.mediaDevices.getSupportedConstraints())){var m=function(y,C,A){C in y&&!(A in y)&&(y[A]=y[C],delete y[C])},w=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(y){return vt(y)==="object"&&vt(y.audio)==="object"&&(y=JSON.parse(JSON.stringify(y)),m(y.audio,"autoGainControl","mozAutoGainControl"),m(y.audio,"noiseSuppression","mozNoiseSuppression")),w(y)},h&&h.prototype.getSettings){var $=h.prototype.getSettings;h.prototype.getSettings=function(){var y=$.apply(this,arguments);return m(y,"mozAutoGainControl","autoGainControl"),m(y,"mozNoiseSuppression","noiseSuppression"),y}}if(h&&h.prototype.applyConstraints){var E=h.prototype.applyConstraints;h.prototype.applyConstraints=function(y){return this.kind==="audio"&&vt(y)==="object"&&(y=JSON.parse(JSON.stringify(y)),m(y,"autoGainControl","mozAutoGainControl"),m(y,"noiseSuppression","mozNoiseSuppression")),E.apply(this,[y])}}}}var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.shimAudioContext=Ai;_e.shimCallbacksAPI=_i;_e.shimConstraints=ao;_e.shimCreateOfferLegacy=Ei;var wi=_e.shimGetUserMedia=Ti;_e.shimLocalStreamsAPI=$i;_e.shimRTCIceServerUrls=Pi;_e.shimRemoteStreamsAPI=Ci;_e.shimTrackEventTransceiver=Si;var ro=bi(de);function no(o){if(typeof WeakMap!="function")return null;var c=new WeakMap,i=new WeakMap;return(no=function(h){return h?i:c})(o)}function bi(o,c){if(!c&&o&&o.__esModule)return o;if(o===null||Ne(o)!=="object"&&typeof o!="function")return{default:o};var i=no(c);if(i&&i.has(o))return i.get(o);var h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in o)if(w!=="default"&&Object.prototype.hasOwnProperty.call(o,w)){var $=m?Object.getOwnPropertyDescriptor(o,w):null;$&&($.get||$.set)?Object.defineProperty(h,w,$):h[w]=o[w]}return h.default=o,i&&i.set(o,h),h}function Ne(o){"@babel/helpers - typeof";return Ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Ne(o)}function $i(o){if(!(Ne(o)!=="object"||!o.RTCPeerConnection)){if("getLocalStreams"in o.RTCPeerConnection.prototype||(o.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in o.RTCPeerConnection.prototype)){var c=o.RTCPeerConnection.prototype.addTrack;o.RTCPeerConnection.prototype.addStream=function(i){var h=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(i)||this._localStreams.push(i),i.getAudioTracks().forEach(function(m){return c.call(h,m,i)}),i.getVideoTracks().forEach(function(m){return c.call(h,m,i)})},o.RTCPeerConnection.prototype.addTrack=function(i){for(var h=this,m=arguments.length,w=new Array(m>1?m-1:0),$=1;$<m;$++)w[$-1]=arguments[$];return w&&w.forEach(function(E){h._localStreams?h._localStreams.includes(E)||h._localStreams.push(E):h._localStreams=[E]}),c.apply(this,arguments)}}"removeStream"in o.RTCPeerConnection.prototype||(o.RTCPeerConnection.prototype.removeStream=function(i){var h=this;this._localStreams||(this._localStreams=[]);var m=this._localStreams.indexOf(i);if(m!==-1){this._localStreams.splice(m,1);var w=i.getTracks();this.getSenders().forEach(function($){w.includes($.track)&&h.removeTrack($)})}})}}function Ci(o){if(!(Ne(o)!=="object"||!o.RTCPeerConnection)&&("getRemoteStreams"in o.RTCPeerConnection.prototype||(o.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in o.RTCPeerConnection.prototype))){Object.defineProperty(o.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(i){var h=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=i),this.addEventListener("track",this._onaddstreampoly=function(m){m.streams.forEach(function(w){if(h._remoteStreams||(h._remoteStreams=[]),!h._remoteStreams.includes(w)){h._remoteStreams.push(w);var $=new Event("addstream");$.stream=w,h.dispatchEvent($)}})})}});var c=o.RTCPeerConnection.prototype.setRemoteDescription;o.RTCPeerConnection.prototype.setRemoteDescription=function(){var i=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(h){h.streams.forEach(function(m){if(i._remoteStreams||(i._remoteStreams=[]),!(i._remoteStreams.indexOf(m)>=0)){i._remoteStreams.push(m);var w=new Event("addstream");w.stream=m,i.dispatchEvent(w)}})}),c.apply(i,arguments)}}}function _i(o){if(!(Ne(o)!=="object"||!o.RTCPeerConnection)){var c=o.RTCPeerConnection.prototype,i=c.createOffer,h=c.createAnswer,m=c.setLocalDescription,w=c.setRemoteDescription,$=c.addIceCandidate;c.createOffer=function(y,C){var A=arguments.length>=2?arguments[2]:arguments[0],P=i.apply(this,[A]);return C?(P.then(y,C),Promise.resolve()):P},c.createAnswer=function(y,C){var A=arguments.length>=2?arguments[2]:arguments[0],P=h.apply(this,[A]);return C?(P.then(y,C),Promise.resolve()):P};var E=function(y,C,A){var P=m.apply(this,[y]);return A?(P.then(C,A),Promise.resolve()):P};c.setLocalDescription=E,E=function(y,C,A){var P=w.apply(this,[y]);return A?(P.then(C,A),Promise.resolve()):P},c.setRemoteDescription=E,E=function(y,C,A){var P=$.apply(this,[y]);return A?(P.then(C,A),Promise.resolve()):P},c.addIceCandidate=E}}function Ti(o){var c=o&&o.navigator;if(c.mediaDevices&&c.mediaDevices.getUserMedia){var i=c.mediaDevices,h=i.getUserMedia.bind(i);c.mediaDevices.getUserMedia=function(m){return h(ao(m))}}!c.getUserMedia&&c.mediaDevices&&c.mediaDevices.getUserMedia&&(c.getUserMedia=(function(m,w,$){c.mediaDevices.getUserMedia(m).then(w,$)}).bind(c))}function ao(o){return o&&o.video!==void 0?Object.assign({},o,{video:ro.compactObject(o.video)}):o}function Pi(o){if(o.RTCPeerConnection){var c=o.RTCPeerConnection;o.RTCPeerConnection=function(i,h){if(i&&i.iceServers){for(var m=[],w=0;w<i.iceServers.length;w++){var $=i.iceServers[w];$.urls===void 0&&$.url?(ro.deprecated("RTCIceServer.url","RTCIceServer.urls"),$=JSON.parse(JSON.stringify($)),$.urls=$.url,delete $.url,m.push($)):m.push(i.iceServers[w])}i.iceServers=m}return new c(i,h)},o.RTCPeerConnection.prototype=c.prototype,"generateCertificate"in c&&Object.defineProperty(o.RTCPeerConnection,"generateCertificate",{get:function(){return c.generateCertificate}})}}function Si(o){Ne(o)==="object"&&o.RTCTrackEvent&&"receiver"in o.RTCTrackEvent.prototype&&!("transceiver"in o.RTCTrackEvent.prototype)&&Object.defineProperty(o.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function Ei(o){var c=o.RTCPeerConnection.prototype.createOffer;o.RTCPeerConnection.prototype.createOffer=function(i){if(i){typeof i.offerToReceiveAudio<"u"&&(i.offerToReceiveAudio=!!i.offerToReceiveAudio);var h=this.getTransceivers().find(function(w){return w.receiver.track.kind==="audio"});i.offerToReceiveAudio===!1&&h?h.direction==="sendrecv"?h.setDirection?h.setDirection("sendonly"):h.direction="sendonly":h.direction==="recvonly"&&(h.setDirection?h.setDirection("inactive"):h.direction="inactive"):i.offerToReceiveAudio===!0&&!h&&this.addTransceiver("audio",{direction:"recvonly"}),typeof i.offerToReceiveVideo<"u"&&(i.offerToReceiveVideo=!!i.offerToReceiveVideo);var m=this.getTransceivers().find(function(w){return w.receiver.track.kind==="video"});i.offerToReceiveVideo===!1&&m?m.direction==="sendrecv"?m.setDirection?m.setDirection("sendonly"):m.direction="sendonly":m.direction==="recvonly"&&(m.setDirection?m.setDirection("inactive"):m.direction="inactive"):i.offerToReceiveVideo===!0&&!m&&this.addTransceiver("video",{direction:"recvonly"})}return c.apply(this,arguments)}}function Ai(o){Ne(o)!=="object"||o.AudioContext||(o.AudioContext=o.webkitAudioContext)}const Oi=o=>{let c=!1,i;return(...h)=>(c||(i=o(h),c=!0),i)};function We(o,c){if(o===!1)throw new Error(c??"assertion failure")}const Di=Oi(()=>{const o=ei(window);switch(o.browser){case"chrome":di(window,o);break;case"firefox":vi(window,o);break;case"safari":wi(window,o);break;default:throw new Ga}});let mt=Promise.resolve({type:"stop",data:{}});async function xa(o,c,i){var h,m,w;if(window.isSecureContext!==!0)throw new qo;if(((h=navigator==null?void 0:navigator.mediaDevices)==null?void 0:h.getUserMedia)===void 0)throw new Ga;Di();const $=await navigator.mediaDevices.getUserMedia({audio:!1,video:c});o.srcObject!==void 0?o.srcObject=$:o.mozSrcObject!==void 0?o.mozSrcObject=$:window.URL.createObjectURL?o.src=window.URL.createObjectURL($):window.webkitURL?o.src=window.webkitURL.createObjectURL($):o.src=$.id,o.play(),await Promise.race([_a(o,"loadeddata"),Da(3e3).then(()=>{throw new Jo})]),await Da(500);const[E]=$.getVideoTracks(),y=(w=(m=E==null?void 0:E.getCapabilities)==null?void 0:m.call(E))!=null?w:{};let C=!1;return i&&y.torch&&(await E.applyConstraints({advanced:[{torch:!0}]}),C=!0),{type:"start",data:{videoEl:o,stream:$,capabilities:y,constraints:c,isTorchOn:C}}}async function ji(o,{constraints:c,torch:i,restart:h=!1}){mt=mt.then(w=>{if(w.type==="start"){const{data:{videoEl:$,stream:E,constraints:y,isTorchOn:C}}=w;return!h&&o===$&&c===y&&i===C?w:oo($,E,C).then(()=>xa(o,c,i))}return xa(o,c,i)});const m=await mt;if(m.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).");return m.data.capabilities}async function oo(o,c,i){o.src="",o.srcObject=null,o.load(),await _a(o,"error");for(const h of c.getTracks())i!=null||await h.applyConstraints({advanced:[{torch:!1}]}),c.removeTrack(h),h.stop();return{type:"stop",data:{}}}async function ga(){if(mt=mt.then(o=>{if(o.type==="stop")return o;const{data:{videoEl:c,stream:i,isTorchOn:h}}=o;return oo(c,i,h)}),(await mt).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")}const Mi=lr({__name:"QrcodeStream",props:{constraints:{type:Object,default(){return{facingMode:"environment"}}},formats:{type:Array,default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function}},emits:["detect","camera-on","camera-off","error"],setup(o,{emit:c}){const i=o,h=c,m=pt(),w=pt(),$=pt(),E=pt(!1),y=pt(!1);io(()=>{y.value=!0}),so(()=>{ga()});const C=ma(()=>({torch:i.torch,constraints:i.constraints,shouldStream:y.value&&!i.paused}));ya(C,async M=>{const G=$.value;We(G!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const Z=m.value;We(Z!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const V=Z.getContext("2d");if(We(V!==null,"if cavnas is defined, canvas 2d context should also be non-null"),M.shouldStream)try{const j=await ji(G,M);y.value?(E.value=!0,h("camera-on",j)):await ga()}catch(j){h("error",j)}else Z.width=G.videoWidth,Z.height=G.videoHeight,V.drawImage(G,0,0,G.videoWidth,G.videoHeight),ga(),E.value=!1,h("camera-off")},{deep:!0});const{formats:A}=uo(i);ya(A,M=>{y.value&&Qo(M)});const P=ma(()=>C.value.shouldStream&&E.value);ya(P,M=>{if(M){We(m.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),Y(m.value),We(w.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),Y(w.value);const G=()=>i.track===void 0?500:40;We($.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),Zo($.value,{detectHandler:Z=>h("detect",Z),formats:i.formats,locateHandler:B,minDelay:G()})}});const Y=M=>{const G=M.getContext("2d");We(G!==null,"canvas 2d context should always be non-null"),G.clearRect(0,0,M.width,M.height)},B=M=>{const G=w.value;We(G!==void 0,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const Z=$.value;if(We(Z!==void 0,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),M.length===0||i.track===void 0)Y(G);else{const V=Z.offsetWidth,j=Z.offsetHeight,Te=Z.videoWidth,Pe=Z.videoHeight,Ie=Math.max(V/Te,j/Pe),Ue=Te*Ie,He=Pe*Ie,Ye=Ue/Te,yt=He/Pe,gt=(V-Ue)/2,wt=(j-He)/2,ze=({x:ae,y:ve})=>({x:Math.floor(ae*Ye),y:Math.floor(ve*yt)}),ft=({x:ae,y:ve})=>({x:Math.floor(ae+gt),y:Math.floor(ve+wt)}),bt=M.map(ae=>{const{boundingBox:ve,cornerPoints:$t}=ae,{x:fe,y:Ct}=ft(ze({x:ve.x,y:ve.y})),{x:Be,y:ue}=ze({x:ve.width,y:ve.height});return{...ae,cornerPoints:$t.map(Ge=>ft(ze(Ge))),boundingBox:DOMRectReadOnly.fromRect({x:fe,y:Ct,width:Be,height:ue})}});G.width=Z.offsetWidth,G.height=Z.offsetHeight;const oe=G.getContext("2d");i.track(bt,oe)}},z={width:"100%",height:"100%",position:"relative","z-index":"0"},q={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},se={width:"100%",height:"100%","object-fit":"cover"},J=ma(()=>P.value?se:{...se,visibility:"hidden",position:"absolute"});return(M,G)=>(rr(),nr("div",{style:z},[or("video",{ref_key:"videoRef",ref:$,style:co(J.value),autoplay:"",muted:"",playsinline:""},null,4),lo(or("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:m,style:se},null,512),[[fo,!P.value]]),or("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:w,style:q},null,512),or("div",{style:q},[ka(M.$slots,"default")])]))}}),xi=lr({__name:"QrcodeCapture",props:{formats:{type:Array,default:()=>["qr_code"]}},emits:["detect"],setup(o,{emit:c}){const i=o,h=c,m=w=>{if(!(!(w.target instanceof HTMLInputElement)||!w.target.files))for(const $ of Array.from(w.target.files))qa($,i.formats).then(E=>{h("detect",E)})};return(w,$)=>(rr(),nr("input",{onChange:m,type:"file",name:"image",accept:"image/*",capture:"environment",multiple:""},null,32))}}),ki=["onDrop"],Ri=lr({__name:"QrcodeDropZone",props:{formats:{type:Array,default:()=>["qr_code"]}},emits:["detect","dragover","error"],setup(o,{emit:c}){const i=o,h=c,m=async E=>{try{const y=await E;h("detect",y)}catch(y){h("error",y)}},w=E=>{h("dragover",E)},$=({dataTransfer:E})=>{if(!E)return;w(!1);const y=[...Array.from(E.files)],C=E.getData("text/uri-list");y.forEach(A=>{m(qa(A))}),C!==""&&m(Ko(C,i.formats))};return(E,y)=>(rr(),nr("div",{onDrop:ir($,["prevent","stop"]),onDragenter:y[0]||(y[0]=ir(C=>w(!0),["prevent","stop"])),onDragleave:y[1]||(y[1]=ir(C=>w(!1),["prevent","stop"])),onDragover:y[2]||(y[2]=ir(()=>{},["prevent","stop"]))},[ka(E.$slots,"default")],40,ki))}}),Fi=lr({name:"QrCodeScan",components:{QrcodeStream:Mi,QrcodeDropZone:Ri,QrcodeCapture:xi},setup(){const o=pt(null);return{onDecode:h=>{h&&(o.value=h)},scannedData:o,worker:null}}}),Wi={key:0};function Ii(o,c,i,h,m,w){const $=po("QrcodeStream");return rr(),nr("div",null,[vo($,{onDecode:o.onDecode,worker:o.worker},null,8,["onDecode","worker"]),o.scannedData?(rr(),nr("div",Wi,"Scanned QR Code: "+mo(o.scannedData),1)):yo("",!0),go(" demk ")])}const Hi=ho(Fi,[["render",Ii]]);export{Hi as default};
